(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[89609],{89609:(t,e,s)=>{s.r(e),s.d(e,{default:()=>q});var i=s(4594),n=s(66094),a=s(85483),r=s(99282),o=s(67847),u=s(48266),c=s(70324),l=s(51160),g=s(35548),m=s(39519),p=s(23660),h=s(21190),d=s(29329),f=s(69732),v=s(99931),w=s(88635),C=s(23199),T=s(55802);const U=["avatar"];function x(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"button",12),g.NdJ("click",(function(){const e=g.CHM(t).$implicit,s=g.oxw(4);return g.KtG(s.onSelected(e))})),g._uU(1),g.TgZ(2,"tui-avatar",13),g._uU(3),g.ALo(4,"tuiInitials"),g.qZA()()}if(2&t){const t=e.$implicit;g.Q6J("value",t.toString()),g.xp6(1),g.hij(" ",t," "),g.xp6(1),g.Q6J("src",t.avatarUrl),g.xp6(1),g.hij(" ",g.lcZ(4,4,t.toString())," ")}}function b(t,e){if(1&t&&(g.TgZ(0,"tui-data-list"),g.YNc(1,x,5,6,"button",11),g.qZA()),2&t){const t=g.oxw(2).tuiLet;g.xp6(1),g.Q6J("ngForOf",t)}}function Z(t,e){1&t&&(g.ynx(0),g.YNc(1,b,2,1,"tui-data-list",10),g.BQk())}function A(t,e){if(1&t&&(g.TgZ(0,"tui-input",7),g._uU(1," User "),g._UZ(2,"input",8),g.YNc(3,Z,2,0,"ng-container",9),g.qZA()),2&t){const t=e.tuiLet,s=g.oxw();g.Q6J("tuiTextfieldCustomContent",s.content),g.xp6(3),g.Q6J("ngIf",null==t?null:t.length)}}function L(t,e){if(1&t&&(g.TgZ(0,"tui-avatar",15),g._uU(1),g.ALo(2,"tuiInitials"),g.qZA()),2&t){const t=g.oxw(2);g.Q6J("src",t.lastUser.avatarUrl),g.xp6(1),g.hij(" ",g.lcZ(2,2,t.lastUser.toString())," ")}}function N(t,e){if(1&t&&g.YNc(0,L,3,4,"tui-avatar",14),2&t){const t=g.oxw();g.Q6J("ngIf",t.lastUser)}}function y(t,e){if(1&t&&g._UZ(0,"tui-data-list-wrapper",16),2&t){const t=g.oxw(),e=g.MAs(9);g.Q6J("itemContent",e)("items",t.accounts)}}function S(t,e){if(1&t&&(g.TgZ(0,"div"),g._uU(1),g.TgZ(2,"span"),g._uU(3),g.ALo(4,"async"),g.ALo(5,"tuiAmount"),g.qZA()()),2&t){const t=e.$implicit;g.xp6(1),g.hij(" ",t.name," "),g.xp6(2),g.Oqu(g.lcZ(4,2,g.xi3(5,4,t.amount,"RUB")))}}class I{constructor(t,e,s=null,i=[],n=""){this.firstName=t,this.lastName=e,this.avatarUrl=s,this.accounts=i,this.card=n}toString(){return`${this.firstName} ${this.lastName}`}}class J{constructor(t,e,s,i,n){this.id=t,this.name=e,this.amount=s,this.currency=i,this.cardSvg=n}toString(){return this.name}}const _=[new J("1","RUB",24876.55,r.TuiCurrency.Ruble,"https://ng-web-apis.github.io/dist/assets/images/common.svg"),new J("2","USD",335,r.TuiCurrency.Dollar,"https://ng-web-apis.github.io/dist/assets/images/geolocation.svg")],Q=[new J("3","EUR",1e4,r.TuiCurrency.Euro,"https://ng-web-apis.github.io/dist/assets/images/intersection-observer.svg"),new J("4","PND",100,r.TuiCurrency.Pound,"https://ng-web-apis.github.io/dist/assets/images/payment-request.svg")],D=[new I("Roman","Sedov","https://avatars.githubusercontent.com/u/10106368",_),new I("Alex","Inkin",a.Ll`/images/avatar.jpg`,Q,"1234123412341234"),new I("Dmitriy","Demenskiy"),new I("Evgeniy","Mamaev"),new I("Ivan","Ishmametiev"),new I("Igor","Katsuba"),new I("Yulia","Tsareva")],q=(()=>{var t;class e{constructor(){this.user=new n.NI(""),this.testForm=new n.cw({user:this.user,account:new n.NI(""),card:new n.NI("")}),this.lastUser=null,this.users$=(0,o.tuiControlValue)(this.user).pipe((0,l.U)((t=>{const e=D.filter((e=>(0,o.TUI_DEFAULT_MATCHER)(e,t)));return 1!==e.length||String(e[0]).toLowerCase()!==t.toLowerCase()?e:(this.onSelected(e[0]),[])})))}get card(){const t=this.testForm.get("card").value;if((t?.length??0)<7)return null;switch(t?.charAt(0)){case"0":case"1":case"2":return"https://ng-web-apis.github.io/dist/assets/images/common.svg";case"3":case"4":case"5":return"https://ng-web-apis.github.io/dist/assets/images/geolocation.svg";case"6":case"7":return"https://ng-web-apis.github.io/dist/assets/images/intersection-observer.svg";default:return"https://ng-web-apis.github.io/dist/assets/images/payment-request.svg"}}get isUserSelected(){return null!==this.lastUser&&this.lastUser.toString().toLowerCase()===this.testForm.get("user")?.value?.toLowerCase()}get content(){return this.avatar&&this.isUserSelected?this.avatar:""}get accounts(){return this.isUserSelected&&this.lastUser?.accounts||[]}onSelected(t){this.lastUser=t,this.testForm.get("card").setValue(t.card)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=g.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&g.Gf(U,5),2&t){let t;g.iGM(t=g.CRH())&&(e.avatar=t.first)}},standalone:!0,exportAs:"ExampleComponent4",features:[g.jDz],decls:12,vars:6,consts:[[1,"container",3,"formGroup"],["formControlName","user",3,"tuiTextfieldCustomContent",4,"tuiLet"],["avatar",""],["formControlName","account",1,"tui-space_vertical-5"],[3,"itemContent","items",4,"tuiDataList"],["accountContent",""],["formControlName","card",3,"cardSrc","tuiTextfieldCleaner"],["formControlName","user",3,"tuiTextfieldCustomContent"],["placeholder","Type your name or surname","tuiTextfield",""],[4,"ngIf"],[4,"tuiDataList"],["tuiOption","",3,"value","click",4,"ngFor","ngForOf"],["tuiOption","",3,"value","click"],["size","xs",3,"src"],["size","s",3,"src",4,"ngIf"],["size","s",3,"src"],[3,"itemContent","items"]],template:function(t,e){1&t&&(g.TgZ(0,"form",0),g.YNc(1,A,4,2,"tui-input",1),g.ALo(2,"async"),g.YNc(3,N,1,1,"ng-template",null,2,g.W1O),g.TgZ(5,"tui-input",3),g._uU(6," Account "),g.YNc(7,y,1,2,"tui-data-list-wrapper",4),g.YNc(8,S,6,7,"ng-template",null,5,g.W1O),g.qZA(),g.TgZ(10,"tui-input-card",6),g._uU(11," Card number "),g.qZA()()),2&t&&(g.Q6J("formGroup",e.testForm),g.xp6(1),g.Q6J("tuiLet",g.lcZ(2,4,e.users$)),g.xp6(9),g.Q6J("cardSrc",e.card)("tuiTextfieldCleaner",!0))},dependencies:[n.UX,n._Y,n.JJ,n.JL,n.sg,n.u,c.TuiInputModule,m.K,p.w,h.Q,o.TuiLetDirective,i.Ov,u.TuiTextfieldControllerModule,d.b,f.B,i.O5,u.TuiDataList,v.q,w.v,C.g,i.sg,c.TuiAvatarComponent,u.TuiInitialsPipe,c.TuiDataListWrapperModule,T.e,r.TuiAmountPipe,r.TuiInputCardComponent],styles:[".container[_ngcontent-%COMP%]{max-width:18rem}"],changeDetection:0}),e})()}}]);