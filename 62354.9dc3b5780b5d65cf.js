(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[62354],{62354:(t,e,n)=>{n.d(e,{$V:()=>B,e$:()=>j,BJ:()=>Y,xg:()=>y,uy:()=>E,OJ:()=>T,mh:()=>pt,eD:()=>rt,dV:()=>ft,Lx:()=>Ft,W0:()=>wt,S:()=>ee,fd:()=>Zt,bo:()=>be,Db:()=>Ce});var i=n(37550),s=n(15585),o=n(89075),r=n(32709),a=n(85122),l=n(55514),c=n(55755),h=n(44046),u=n(25358),d=n(64204),p=n(60149);const g=["arc"],m=["*"];function v(t,e){if(1&t&&(i.qSk(),i.j41(0,"svg",5),i.nrm(1,"path",6)(2,"path",7,0),i.k0s()),2&t){const t=e.$implicit,n=i.XpG();i.xc7("height",n.getDiameter(t),"rem")("inset-block-start",n.getInset(t),"rem")("inset-inline-end",n.getInset(t),"rem")("inset-inline-start",n.getInset(t),"rem"),i.R7$(2),i.xc7("stroke",`var(--tui-chart-categorical-${t.toString().padStart(2,"0")})`)("stroke-dasharray",n.getLength(t),"em")("stroke-dashoffset",n.initialized()?n.getOffset(t):n.getLength(t),"em"),i.AVh("t-value_inactive",n.isInactive(t))}}const f={m:9,l:11,xl:16},x={m:.25,l:.375,xl:.5625},b={m:.125,l:.1875,xl:.25};let y=(()=>{var t;class e{constructor(){this.arcs$=new c.m(1),this.initialized=(0,i.vPA)(!1),this.$=(0,h.O)(0).pipe((0,r.rB)(),(0,s.pQ)()).subscribe((()=>this.initialized.set(!0))),this.value=[],this.size="m",this.max=100,this.minLabel="0%",this.maxLabel="100%",this.activeItemIndex=NaN,this.activeItemIndexChange=this.arcs$.pipe((0,u.n)((t=>t.changes.pipe((0,d.Z)(null),(0,u.n)((()=>(0,a.h)(...function(t){return t.map((({nativeElement:t},e)=>(0,a.h)((0,r.xM)(t,"mouseenter").pipe((0,l.T)((()=>e))),(0,r.xM)(t,"mouseleave").pipe((0,l.T)((()=>NaN))))))}(t))))))),(0,p.M)((t=>{this.activeItemIndex=t})))}set arcs(t){this.arcs$.next(t)}get width(){return f[this.size]}get strokeWidth(){return x[this.size]}isInactive(t){return!Number.isNaN(this.activeItemIndex)&&t!==this.activeItemIndex}getInset(t){return this.strokeWidth/2+t*(this.strokeWidth+b[this.size])}getDiameter(t){return f[this.size]-2*this.getInset(t)}getLength(t){return Math.PI*this.getDiameter(t)*.76}getOffset(t){return this.getLength(t)*(1-Math.min((this.value[t]||0)/this.max,1))}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=i.VBU({type:t,selectors:[["tui-arc-chart"]],viewQuery:function(t,e){if(1&t&&i.GBs(g,5),2&t){let t;i.mGM(t=i.lsd())&&(e.arcs=t)}},hostVars:7,hostBindings:function(t,e){2&t&&(i.BMQ("data-size",e.size),i.xc7("width",e.width,"rem")("height",e.width,"rem")("stroke-width",e.strokeWidth,"rem"))},inputs:{value:"value",size:"size",max:"max",minLabel:"minLabel",maxLabel:"maxLabel",activeItemIndex:"activeItemIndex"},outputs:{activeItemIndexChange:"activeItemIndexChange"},ngContentSelectors:m,decls:9,vars:3,consts:[["arc",""],["focusable","false","viewBox","-100 -100 200 200","xmlns","http://www.w3.org/2000/svg","class","t-svg",3,"height","inset-block-start","inset-inline-end","inset-inline-start",4,"tuiRepeatTimes","tuiRepeatTimesOf"],[1,"t-content"],[1,"t-wrapper"],[1,"t-percent"],["focusable","false","viewBox","-100 -100 200 200","xmlns","http://www.w3.org/2000/svg",1,"t-svg"],["d","M -70 70 A 100 100 0 1 1 70 70","vector-effect","non-scaling-stroke"],["d","M -70 70 A 100 100 0 1 1 70 70","vector-effect","non-scaling-stroke",1,"t-value"]],template:function(t,e){1&t&&(i.NAR(),i.DNE(0,v,4,16,"svg",1),i.j41(1,"div",2)(2,"div",3),i.SdG(3),i.k0s()(),i.j41(4,"div",4)(5,"span"),i.EFF(6),i.k0s(),i.j41(7,"span"),i.EFF(8),i.k0s()()),2&t&&(i.Y8G("tuiRepeatTimesOf",e.value.length),i.R7$(6),i.JRh(e.minLabel),i.R7$(2),i.JRh(e.maxLabel))},dependencies:[o.C],styles:["[_nghost-%COMP%]{position:relative;display:block;flex-shrink:0}.t-svg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;overflow:visible;fill:none;stroke:currentColor;stroke-linecap:round;color:var(--tui-background-neutral-1);font-size:1rem;pointer-events:none}.t-value[_ngcontent-%COMP%]{pointer-events:auto;transition:stroke-dashoffset var(--tui-duration) ease-in-out,opacity var(--tui-duration) ease-in-out .1s}.t-value_inactive[_ngcontent-%COMP%]{transition-property:stroke-dashoffset,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:.16}.t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex;justify-content:center;align-items:center;text-align:center;color:var(--tui-text-secondary);font:var(--tui-font-text-xs);pointer-events:none}[data-size=xl][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-m)}.t-wrapper[_ngcontent-%COMP%]{pointer-events:auto}.t-wrapper[_ngcontent-%COMP%]:first-line{color:var(--tui-text-primary)}[data-size=m][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-text-s);font-weight:700}[data-size=l][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-text-m);font-weight:700}[data-size=xl][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-heading-5)}.t-percent[_ngcontent-%COMP%]{position:absolute;left:25%;bottom:11%;display:flex;inline-size:50%;justify-content:space-between;font:var(--tui-font-text-xs);color:var(--tui-text-secondary)}[data-size=xl][_nghost-%COMP%]   .t-percent[_ngcontent-%COMP%]{font:var(--tui-font-text-m)}"],changeDetection:0}),e})();var C=n(86677);const _=["*"];function M(t,e){if(1&t&&(i.j41(0,"div",12),i.EFF(1),i.k0s()),2&t){const t=i.XpG(2);i.R7$(),i.SpI(" ",t.axisYName," ")}}function z(t,e){if(1&t&&(i.j41(0,"div",14),i.EFF(1),i.k0s()),2&t){const t=e.$implicit,n=i.XpG(3);i.R7$(),i.SpI(" ",n.fallback(t)," ")}}function O(t,e){if(1&t&&(i.j41(0,"div",13),i.Z7z(1,z,2,1,"div",14,i.fX1),i.k0s()),2&t){const t=i.XpG(2);i.R7$(),i.Dyx(t.axisYLabels)}}function P(t,e){if(1&t&&(i.j41(0,"div",11),i.DNE(1,M,2,1,"div",12)(2,O,3,0,"div",13),i.k0s()),2&t){const t=i.XpG();i.AVh("t-side_padding",t.hasXLabels),i.R7$(),i.vxM(t.axisYName?1:-1),i.R7$(),i.vxM(t.axisYInset?-1:2)}}function k(t,e){if(1&t&&i.nrm(0,"div",15),2&t){const t=e.$implicit,n=i.XpG();i.xc7("border-right-style",n.verticalLinesHandler(t,n.verticalLines))}}function I(t,e){if(1&t&&i.nrm(0,"div",16),2&t){const t=e.$implicit,n=i.XpG();i.xc7("border-top-style",n.horizontalLinesHandler(t,n.horizontalLines))}}function $(t,e){if(1&t&&(i.j41(0,"div",14),i.EFF(1),i.k0s()),2&t){const t=e.$implicit,n=i.XpG(2);i.R7$(),i.SpI(" ",n.fallback(t)," ")}}function w(t,e){if(1&t&&(i.j41(0,"div",7),i.Z7z(1,$,2,1,"div",14,i.fX1),i.k0s()),2&t){const t=i.XpG();i.R7$(),i.Dyx(t.axisYLabels)}}function S(t,e){if(1&t&&(i.j41(0,"div",17),i.EFF(1),i.k0s()),2&t){const t=e.$implicit,n=i.XpG(2);i.R7$(),i.SpI(" ",n.fallback(t)," ")}}function X(t,e){if(1&t&&(i.j41(0,"div",8),i.Z7z(1,S,2,1,"div",17,i.fX1),i.k0s()),2&t){const t=i.XpG();i.R7$(),i.Dyx(t.axisYSecondaryLabels)}}function H(t,e){if(1&t&&(i.j41(0,"div",19),i.EFF(1),i.k0s()),2&t){const t=e.$implicit,n=i.XpG(2);i.AVh("t-label-x_transparent",null===t),i.R7$(),i.SpI(" ",n.fallback(t)," ")}}function N(t,e){if(1&t&&(i.j41(0,"div",10),i.Z7z(1,H,2,3,"div",18,i.fX1),i.k0s()),2&t){const t=i.XpG();i.R7$(),i.Dyx(t.axisXLabels)}}function D(t,e){if(1&t&&(i.j41(0,"div",17),i.EFF(1),i.k0s()),2&t){const t=e.$implicit,n=i.XpG(3);i.R7$(),i.SpI(" ",n.fallback(t)," ")}}function R(t,e){if(1&t&&(i.j41(0,"div",20),i.Z7z(1,D,2,1,"div",17,i.fX1),i.k0s()),2&t){const t=i.XpG(2);i.R7$(),i.Dyx(t.axisYSecondaryLabels)}}function L(t,e){if(1&t&&(i.j41(0,"div",21),i.EFF(1),i.k0s()),2&t){const t=i.XpG(2);i.R7$(),i.SpI(" ",t.axisYSecondaryName," ")}}function G(t,e){if(1&t&&(i.j41(0,"div",11),i.DNE(1,R,3,0,"div",20)(2,L,2,1,"div",21),i.k0s()),2&t){const t=i.XpG();i.AVh("t-side_padding",t.hasXLabels),i.R7$(),i.vxM(t.axisYSecondaryInset?-1:1),i.R7$(),i.vxM(t.axisYSecondaryName?2:-1)}}const B=()=>"dashed",Y=()=>"solid",j=()=>"none";let E=(()=>{var t;class e{constructor(){this.axisX="solid",this.axisXLabels=[],this.axisY="solid",this.axisYInset=!1,this.axisYLabels=[],this.axisYName="",this.axisYSecondaryInset=!1,this.axisYSecondaryLabels=[],this.axisYSecondaryName="",this.horizontalLines=0,this.horizontalLinesHandler=Y,this.verticalLines=0,this.verticalLinesHandler=B}get hasXLabels(){return!!this.axisXLabels.length}get hasYLabels(){return!!this.axisYLabels.length&&!this.axisYInset||!!this.axisYName}get hasYSecondaryLabels(){return!!this.axisYSecondaryLabels.length&&!this.axisYSecondaryInset||!!this.axisYSecondaryName}fallback(t){return t||C.am}get centeredXLabels(){return"none"===this.axisY}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=i.VBU({type:t,selectors:[["tui-axes"]],hostAttrs:["dir","ltr"],hostVars:2,hostBindings:function(t,e){2&t&&i.AVh("_centered",e.centeredXLabels)},inputs:{axisX:"axisX",axisXLabels:"axisXLabels",axisY:"axisY",axisYInset:"axisYInset",axisYLabels:"axisYLabels",axisYName:"axisYName",axisYSecondaryInset:"axisYSecondaryInset",axisYSecondaryLabels:"axisYSecondaryLabels",axisYSecondaryName:"axisYSecondaryName",horizontalLines:"horizontalLines",horizontalLinesHandler:"horizontalLinesHandler",verticalLines:"verticalLines",verticalLinesHandler:"verticalLinesHandler"},ngContentSelectors:_,decls:13,vars:11,consts:[[1,"t-side",3,"t-side_padding"],[1,"t-wrapper"],[1,"t-grid"],[1,"t-vertical"],["automation-id","tui-axex__vertical-line","class","t-line t-line_vertical",3,"borderRightStyle",4,"tuiRepeatTimes","tuiRepeatTimesOf"],[1,"t-horizontal"],["automation-id","tui-axex__horizontal-line","class","t-line",3,"borderTopStyle",4,"tuiRepeatTimes","tuiRepeatTimesOf"],[1,"t-labels-y","t-labels-y_inset"],[1,"t-labels-y","t-labels-y_inset","t-labels-y_inset_secondary"],[1,"t-content"],[1,"t-labels-x"],[1,"t-side"],["automation-id","tui-axex__axis-y-name",1,"t-name","t-name_primary"],[1,"t-labels-y","t-labels-y_primary"],["automation-id","tui-axex__axis-y-label",1,"t-label-y"],["automation-id","tui-axex__vertical-line",1,"t-line","t-line_vertical"],["automation-id","tui-axex__horizontal-line",1,"t-line"],["automation-id","tui-axex__axis-y-secondary-label",1,"t-label-y"],["automation-id","tui-axex__axis-x-label",1,"t-label-x",3,"t-label-x_transparent"],["automation-id","tui-axex__axis-x-label",1,"t-label-x"],[1,"t-labels-y","t-labels-y_secondary"],["automation-id","tui-axex__axis-y-secondary-name",1,"t-name"]],template:function(t,e){1&t&&(i.NAR(),i.DNE(0,P,3,4,"div",0),i.j41(1,"div",1)(2,"div",2)(3,"div",3),i.DNE(4,k,1,2,"div",4),i.k0s(),i.j41(5,"div",5),i.DNE(6,I,1,2,"div",6),i.k0s(),i.DNE(7,w,3,0,"div",7)(8,X,3,0,"div",8),i.j41(9,"div",9),i.SdG(10),i.k0s()(),i.DNE(11,N,3,0,"div",10),i.k0s(),i.DNE(12,G,3,4,"div",0)),2&t&&(i.vxM(e.hasYLabels?0:-1),i.R7$(2),i.xc7("border-bottom-style",e.axisX)("border-left-style",e.axisY),i.R7$(2),i.Y8G("tuiRepeatTimesOf",e.verticalLines),i.R7$(2),i.Y8G("tuiRepeatTimesOf",e.horizontalLines),i.R7$(),i.vxM(e.axisYInset?7:-1),i.R7$(),i.vxM(e.axisYSecondaryInset?8:-1),i.R7$(3),i.vxM(e.hasXLabels?11:-1),i.R7$(),i.vxM(e.hasYSecondaryLabels?12:-1))},dependencies:[o.C],styles:['[_nghost-%COMP%]{display:flex}.t-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;block-size:100%;flex-direction:column}.t-grid[_ngcontent-%COMP%]{position:relative;display:flex;flex:1;justify-content:space-around;align-items:flex-end;border-width:1px;border-color:var(--tui-border-normal);isolation:isolate}.t-horizontal[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex;flex-direction:column}.t-vertical[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex}._centered[_nghost-%COMP%]   .t-vertical[_ngcontent-%COMP%]:after{content:"";display:block;flex:1 0 1px}.t-line[_ngcontent-%COMP%]{flex:2 0 1px;box-sizing:border-box;border-width:1px;border-color:var(--tui-border-normal)}._centered[_nghost-%COMP%]   .t-line_vertical[_ngcontent-%COMP%]:first-child{flex:1 0 1px;pointer-events:none}.t-side[_ngcontent-%COMP%]{display:flex;align-items:stretch}.t-side_padding[_ngcontent-%COMP%]{padding-block-end:2rem}.t-name[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);writing-mode:tb;text-align:center;padding-block-end:.75rem;color:var(--tui-text-secondary)}.t-name_primary[_ngcontent-%COMP%]{transform:rotate(180deg)}.t-labels-y[_ngcontent-%COMP%]{display:flex;font:var(--tui-font-text-xs);flex-direction:column-reverse;justify-content:space-between;color:var(--tui-text-secondary)}.t-labels-y_primary[_ngcontent-%COMP%]{text-align:end;padding-inline-end:.75rem}.t-labels-y_secondary[_ngcontent-%COMP%]{padding-inline-start:.75rem}.t-labels-y_transparent[_ngcontent-%COMP%]{border-color:transparent}.t-labels-y_inset[_ngcontent-%COMP%]{position:absolute;top:.5625rem;left:.25rem;bottom:-.75rem;pointer-events:none}.t-labels-y_inset_secondary[_ngcontent-%COMP%]{left:auto;right:.25rem;text-align:end}.t-labels-x[_ngcontent-%COMP%]{position:relative;display:flex;font:var(--tui-font-text-xs);border-inline-end:1px solid transparent;color:var(--tui-text-secondary)}.t-label-x[_ngcontent-%COMP%]{block-size:.4375rem;border-inline-start:1px solid var(--tui-border-normal);flex:1;margin-block-end:1.5625rem}.t-label-x[_ngcontent-%COMP%]:before{content:"";display:block;block-size:.5625rem}.t-label-x_transparent[_ngcontent-%COMP%]{border-color:transparent}._centered[_nghost-%COMP%]   .t-label-x[_ngcontent-%COMP%]{block-size:2rem;text-align:center;border:none;margin:0}[_nghost-%COMP%]:not(._centered)   .t-label-x[_ngcontent-%COMP%]:last-child:not(:first-child){position:absolute;right:0;text-align:end;border-inline-start:none}.t-label-y[_ngcontent-%COMP%]:first-child{margin-block-end:-.375rem}.t-label-y[_ngcontent-%COMP%]:last-child{margin-block-start:-.375rem}.t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:-1px;right:0;bottom:-1px;display:flex;align-items:flex-end}'],changeDetection:0}),e})();var F,Q=n(97270),V=n(5324),A=n(34790);function W(t,e){if(1&t&&i.nrm(0,"div",1),2&t){const t=e.$implicit,n=e.$index,s=i.XpG();i.xc7("background",`var(--tui-chart-categorical-${n.toString().padStart(2,"0")})`)("height",s.getHeight(t),"%")}}class T{constructor(){this.value=[],this.size="m"}getHeight(t){return 100*t/this.getSum(this.value)}getSum(t){return(0,V.y)(...t)}}(F=T).ɵfac=function(t){return new(t||F)},F.ɵcmp=i.VBU({type:F,selectors:[["tui-bar"]],hostVars:1,hostBindings:function(t,e){2&t&&i.BMQ("data-size",e.size)},inputs:{value:"value",size:"size"},decls:2,vars:0,consts:[["automation-id","tui-bar__bar",3,"background","height"],["automation-id","tui-bar__bar"]],template:function(t,e){1&t&&i.Z7z(0,W,1,4,"div",0,i.fX1),2&t&&i.Dyx(e.value)},styles:["[_nghost-%COMP%]{display:flex;min-inline-size:.125rem;flex-direction:column-reverse;border-top-left-radius:var(--tui-radius-l);border-top-right-radius:var(--tui-radius-l);overflow:hidden}[data-size=l][_nghost-%COMP%]{inline-size:1rem;max-inline-size:1rem;margin:0 .1875rem}[data-size=m][_nghost-%COMP%]{inline-size:.5rem;max-inline-size:.5rem;margin:0 .1875rem}[data-size=s][_nghost-%COMP%]{inline-size:.25rem;max-inline-size:.5rem;margin:0 .125rem}"],changeDetection:0}),(0,Q.Cg)([A.PE],T.prototype,"getSum",null);var Z,J=n(81359);const q=(t,e)=>({$implicit:t,index:e,flexible:!1}),U=(t,e)=>({$implicit:t,index:e,flexible:!0});function K(t,e){if(1&t&&i.eu8(0,2),2&t){const t=e.$implicit,n=e.$index;i.XpG(2);const s=i.sdS(3);i.Y8G("ngTemplateOutlet",s)("ngTemplateOutletContext",i.l_i(2,q,t,n))}}function tt(t,e){if(1&t&&i.Z7z(0,K,1,5,"ng-container",2,i.fX1),2&t){const t=i.XpG();i.Dyx(t.computedValue)}}function et(t,e){if(1&t&&(i.j41(0,"div",3),i.eu8(1,2),i.k0s()),2&t){const t=e.$implicit,n=e.$index;i.XpG(2);const s=i.sdS(3);i.R7$(),i.Y8G("ngTemplateOutlet",s)("ngTemplateOutletContext",i.l_i(2,U,t,n))}}function nt(t,e){if(1&t&&i.Z7z(0,et,2,5,"div",3,i.fX1),2&t){const t=i.XpG();i.Dyx(t.computedValue)}}function it(t,e){if(1&t&&i.nrm(0,"tui-bar",4),2&t){const t=e.flexible,n=e.index,s=e.$implicit,o=i.XpG();i.xc7("background",`var(--tui-chart-categorical-${n.toString().padStart(2,"0")})`)("height",o.getHeight(s),"%"),i.AVh("t-bar_flexible",t)("t-bar_negative",s<0),i.Y8G("size",o.computedSize)("value",o.computedSegments)}}const st=[],ot=[1];class rt{constructor(){this.value=[],this.size="m",this.collapsed=!1}get computedValue(){return this.collapsed?ot:this.value}get computedSegments(){return this.collapsed?this.value:st}get computedSize(){return this.size||"m"}getHeight(t){return Math.abs(100*t/this.getLargest(this.computedValue))}getLargest(t){return t.some((t=>t>0))?t.reduce(((t,e)=>t>e?t:e),0):Math.abs(t.reduce(((t,e)=>t<e?t:e),0))}}(Z=rt).ɵfac=function(t){return new(t||Z)},Z.ɵcmp=i.VBU({type:Z,selectors:[["tui-bar-set"]],inputs:{value:"value",size:"size",collapsed:"collapsed"},ngContentSelectors:["*"],decls:6,vars:1,consts:[["bar",""],[1,"t-label"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"t-wrapper"],["automation-id","tui-bar-set__bar",1,"t-bar",3,"size","value"]],template:function(t,e){1&t&&(i.NAR(),i.DNE(0,tt,2,0)(1,nt,2,0)(2,it,1,10,"ng-template",null,0,i.C5r),i.j41(4,"span",1),i.SdG(5),i.k0s()),2&t&&i.vxM(e.size?0:1)},dependencies:[J.T3,T],styles:["[_nghost-%COMP%]{position:relative;display:flex;block-size:100%;align-items:flex-end;justify-content:center}.t-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;block-size:100%;align-items:flex-end}.t-wrapper[_ngcontent-%COMP%]:first-of-type{margin-inline-start:25%}.t-wrapper[_ngcontent-%COMP%]:last-of-type{margin-inline-end:25%}.t-bar[_ngcontent-%COMP%]{transform-origin:bottom center}.t-bar_negative[_ngcontent-%COMP%]{transform:rotate(180deg);opacity:var(--tui-disabled-opacity)}.t-bar.t-bar_flexible[_ngcontent-%COMP%]{max-inline-size:none;inline-size:75%;margin:0 auto}.t-label[_ngcontent-%COMP%]{position:absolute;top:-1.5rem;font:var(--tui-font-text-xs);color:var(--tui-text-secondary)}"],changeDetection:0}),(0,Q.Cg)([A.PE],rt.prototype,"getLargest",null);var at,lt=n(66905),ct=n(27606),ht=n(72295);const ut=t=>({$implicit:t});function dt(t,e){if(1&t){const t=i.RV6();i.j41(0,"div",2),i.nI1(1,"async"),i.bIt("click",(function(){const e=i.eBV(t).$index,n=i.XpG();return i.Njj(n.tapColumn.emit(e))}))("keydown.enter",(function(){const e=i.eBV(t).$index,n=i.XpG();return i.Njj(n.tapColumn.emit(e))}))("mouseenter.once",(function(){return i.eBV(t),i.Njj(0)})),i.j41(2,"div",3),i.nI1(3,"tuiMapper"),i.nrm(4,"div",4,0)(6,"tui-bar-set",5),i.k0s()()}if(2&t){const t=e.$implicit,n=e.$index,s=i.sdS(5),o=i.XpG();i.AVh("t-wrapper_hoverable",!!o.hintContent)("t-wrapper_hovered",i.bMT(1,16,o.drivers.get(n))),i.Y8G("tuiHint",o.hintContent)("tuiHintAppearance",o.hintAppearance)("tuiHintContext",i.eq3(23,ut,n))("tuiHintDescribe",o.getHintId(n))("tuiHintHost",s),i.R7$(2),i.xc7("height",i.ii3(3,18,t,o.percentMapper,o.collapsed,o.computedMax),"%"),i.R7$(4),i.Y8G("collapsed",o.collapsed)("id",o.getHintId(n))("size",o.size)("tabIndex",o.hintContent?0:-1)("value",t)}}class pt{constructor(){this.hintOptions=(0,i.WQX)(ht.bk,{optional:!0}),this.autoId=(0,ct.XD)(),this.drivers=C.xQ,this.value=[],this.max=NaN,this.size="m",this.collapsed=!1,this.tapColumn=new i.bkB,this.percentMapper=(t,e,n)=>100*(e?(0,V.y)(...t):Math.max(...t))/n}get transposed(){return this.transpose(this.value)}get computedMax(){return this.max||this.getMax(this.value,this.collapsed)}get hintContent(){return this.hintOptions?.content||""}get hintAppearance(){return this.hintOptions?.appearance||""}getHintId(t){return`${this.autoId}_${t}`}transpose(t){return t.reduce(((t,e)=>e.map(((n,i)=>[...t[i]||[],e[i]||0]))),[])}getMax(t,e){return e?Math.max(...t.reduce(((t,e)=>t.map(((t,n)=>t+(e[n]||0)))))):t.reduce(((t,e)=>Math.max(...e,t)),0)}}(at=pt).ɵfac=function(t){return new(t||at)},at.ɵcmp=i.VBU({type:at,selectors:[["tui-bar-chart"]],viewQuery:function(t,e){if(1&t&&i.GBs(ht.YO,5),2&t){let t;i.mGM(t=i.lsd())&&(e.drivers=t)}},inputs:{value:"value",max:"max",size:"size",collapsed:"collapsed"},outputs:{tapColumn:"tapColumn"},features:[i.Jv_([],[(0,ht.dB)({direction:"top"})])],decls:2,vars:0,consts:[["hintHost",""],[1,"t-wrapper",3,"t-wrapper_hoverable","t-wrapper_hovered","tuiHint","tuiHintAppearance","tuiHintContext","tuiHintDescribe","tuiHintHost"],[1,"t-wrapper",3,"click","keydown.enter","mouseenter.once","tuiHint","tuiHintAppearance","tuiHintContext","tuiHintDescribe","tuiHintHost"],[1,"t-container"],[1,"t-host"],[1,"t-set",3,"collapsed","id","size","tabIndex","value"]],template:function(t,e){1&t&&i.Z7z(0,dt,7,25,"div",1,i.fX1),2&t&&i.Dyx(e.transposed)},dependencies:[J.Jj,rt,ht.XZ,ht.$$,ht.c,lt.u],styles:["[_nghost-%COMP%]{display:flex;flex:1;block-size:100%}.t-wrapper[_ngcontent-%COMP%]{transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;display:flex;flex:1;align-items:flex-end;justify-content:center;block-size:100%}.t-wrapper_hoverable[_ngcontent-%COMP%]{cursor:pointer}.t-wrapper_hoverable[_ngcontent-%COMP%]:hover, .t-wrapper_hoverable.t-wrapper_hovered[_ngcontent-%COMP%]{background-color:#0000000d}.t-container[_ngcontent-%COMP%]{flex:1}.t-host[_ngcontent-%COMP%]{position:absolute;left:50%;right:50%}.t-set[_ngcontent-%COMP%]{border-radius:var(--tui-radius-m);pointer-events:none;outline:none}.t-set[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px var(--tui-border-focus)}"],changeDetection:0}),(0,Q.Cg)([A.PE],pt.prototype,"transpose",null),(0,Q.Cg)([A.PE],pt.prototype,"getMax",null);var gt=n(43707);const mt=[[["","tuiCheckbox",""]],"*"],vt=["[tuiCheckbox]","*"];let ft=(()=>{var t;class e{constructor(){this.active=!1,this.color="",this.text="",this.size="m",this.disabled=!1}get computedColor(){return"var(--tui-background-accent-1)"===this.color?null:this.color}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=i.VBU({type:t,selectors:[["tui-legend-item"]],hostVars:5,hostBindings:function(t,e){2&t&&(i.BMQ("data-size",e.size),i.xc7("--tui-background-accent-1",e.computedColor),i.AVh("_disabled",e.disabled))},inputs:{active:"active",color:"color",text:"text",size:"size",disabled:"disabled"},ngContentSelectors:vt,decls:7,vars:4,consts:[["appearance","outline-grayscale","size","s","tuiButton","","type","button",1,"t-button",3,"tuiAppearanceState"],[1,"t-wrapper"],[1,"t-dot"],[1,"t-text"]],template:function(t,e){1&t&&(i.NAR(mt),i.j41(0,"button",0)(1,"div",1),i.SdG(2),i.nrm(3,"span",2),i.j41(4,"span",3),i.EFF(5),i.k0s(),i.SdG(6,1),i.k0s()()),2&t&&(i.Y8G("tuiAppearanceState",e.active?"hover":null),i.R7$(3),i.xc7("background-color",e.color||"var(--tui-background-accent-1)"),i.R7$(2),i.JRh(e.text))},dependencies:[gt.p],styles:["[_nghost-%COMP%]{display:inline-block}.t-button[_ngcontent-%COMP%]{block-size:2rem;font-weight:700}[data-size=m][_nghost-%COMP%]   .t-button[_ngcontent-%COMP%]{block-size:2.25rem;font:var(--tui-font-text-m);font-weight:700}.t-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;pointer-events:none}._disabled[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{color:var(--tui-text-tertiary)}.t-dot[_ngcontent-%COMP%]{inline-size:.5rem;block-size:.5rem;border-radius:100%;flex-shrink:0}._disabled[_nghost-%COMP%]   .t-dot[_ngcontent-%COMP%]{background:var(--tui-border-normal)}.t-dot[_ngcontent-%COMP%]:not(:first-child){display:none}.t-text[_ngcontent-%COMP%]{margin:0 .5rem;font-weight:400}"],changeDetection:0}),e})();var xt=n(87094);function bt(t,e,n,i=!1,s=.2){const o=t||[0,0],r=e||t||[0,0],a=n||t||[0,0],l=function(t,e){const n=e[0]-t[0],i=e[1]-t[1];return Math.atan2(i,n)}(r,a)+(i?Math.PI:0),c=function(t,e){const n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n**2+i**2)}(r,a)*s;return[o[0]+Math.cos(l)*c,o[1]+Math.sin(l)*c]}var yt=n(16045),Ct=n(1377),_t=n(31446);const Mt={dots:!1,filled:!1,smoothingFactor:0},zt=new i.nKC("",{factory:()=>Mt});var Ot,Pt,kt=n(16057),It=n(54148),$t=n(70948);class wt{constructor(){this.charts=C.xQ,this.chartsRef=C.xQ,this.renderer=(0,i.WQX)(i.sFG),this.destroyRef=(0,i.WQX)(i.abz),this.zone=(0,i.WQX)(i.SKi),this.hovered$=(0,i.WQX)(kt.Lo)}ngAfterViewInit(){(0,It.z)([St(this.charts),this.hovered$]).pipe((0,$t.p)((t=>!t.some(Boolean))),(0,r.rB)(this.zone),(0,s.pQ)(this.destroyRef)).subscribe((()=>{this.charts.forEach((t=>t.onHovered(NaN)))}))}getContext(t,e){return this.computeContext(...this.charts.map((({value:t})=>t)))[t]||[]}raise(t,e){const n=this.charts.map((e=>e.value[t]??[0,0])),i=[...n].sort(((t,e)=>t[1]-e[1]));this.charts.forEach((e=>e.onHovered(t))),this.chartsRef.forEach((({nativeElement:t},e)=>this.renderer.setStyle(t,"z-index",i.indexOf(n[e]??[0,0]))))}computeContext(...t){return(t[0]||[]).map(((e,n)=>t.map((t=>t[n]??[0,0]))))}}function St(t){return(0,It.z)(t.map((({drivers:t})=>(0,r.MJ)(t).pipe((0,l.T)((t=>t.map((t=>t.pipe((0,d.Z)(!1)))))))))).pipe((0,l.T)((t=>t.reduce(((t,e)=>t.concat(e)),[]))),(0,u.n)((t=>(0,It.z)(t))),(0,l.T)((t=>t.some(Boolean))),(0,_t.F)())}(Ot=wt).ɵfac=function(t){return new(t||Ot)},Ot.ɵdir=i.FsC({type:Ot,selectors:[["","tuiLineChartHint",""]],contentQueries:function(t,e,n){if(1&t&&(i.wni(n,Ft,4),i.wni(n,Ft,4,i.aKT)),2&t){let t;i.mGM(t=i.lsd())&&(e.charts=t),i.mGM(t=i.lsd())&&(e.chartsRef=t)}},inputs:{hint:[0,"tuiLineChartHint","hint"]},features:[i.Jv_([kt.Lo])]}),(0,Q.Cg)([A.PE],wt.prototype,"computeContext",null);const Xt=(t,e)=>({$implicit:t,index:e});function Ht(t,e){if(1&t&&i.nrm(0,"div",9),2&t){const t=e.$implicit,n=i.XpG(3);i.xc7("inset-block-end",n.getBottom(t[1]),"%")("inset-inline-start",n.getLeft(t[0]),"%")}}function Nt(t,e){if(1&t&&i.Z7z(0,Ht,1,4,"div",8,i.fX1),2&t){const t=i.XpG(2);i.Dyx(t.value)}}function Dt(t,e){if(1&t){const t=i.RV6();i.j41(0,"div",12),i.nI1(1,"async"),i.bIt("mouseenter",(function(){i.eBV(t);const e=i.XpG().$index,n=i.XpG(3);return i.Njj(n.onMouseEnter(e))})),i.nrm(2,"div",13)(3,"div",14,0),i.k0s()}if(2&t){const t=i.sdS(4),e=i.XpG(),n=e.$implicit,s=e.$index,o=i.XpG(2).tuiLet,r=i.XpG();i.xc7("inset-inline-start",r.getLeft(r.getX(s)),"%")("width",r.getWidth(s),"%"),i.AVh("t-column_hint_hovered",i.bMT(1,20,r.drivers.get(s)))("t-column_hovered",o===s),i.Y8G("tuiHint",(null==r.hintDirective?null:r.hintDirective.hint)||r.hintContent)("tuiHintContext",i.l_i(22,Xt,r.getImplicit(n),s))("tuiHintDescribe",r.isFocusable?r.getHintId(s):null)("tuiHintHost",t),i.R7$(2),i.xc7("inset-inline-start",r.getOffset(s),"%"),i.R7$(),i.xc7("inset-block-end",r.getBottom(n[1]),"%")("inset-inline-start",r.getOffset(s),"%"),i.Y8G("id",r.getHintId(s))("tabIndex",r.isFocusable?0:-1)}}function Rt(t,e){if(1&t&&i.nrm(0,"div",15),2&t){const t=i.XpG().$implicit,e=i.XpG(3);i.xc7("inset-block-end",e.getBottom(t[1]),"%")}}function Lt(t,e){if(1&t&&i.DNE(0,Dt,5,25,"div",10)(1,Rt,1,2,"div",11),2&t){const t=e.$count,n=i.XpG(3);i.vxM(t>1||n.dots?0:-1),i.R7$(),i.vxM(n.isFocusable?1:-1)}}function Gt(t,e){if(1&t&&i.Z7z(0,Lt,2,2,null,null,i.fX1),2&t){const t=i.XpG(2);i.Dyx(t.value)}}function Bt(t,e){if(1&t&&(i.j41(0,"div",18),i.EFF(1),i.k0s()),2&t){const t=i.XpG(),e=i.XpG(2);i.xc7("inset-inline-start",e.getLeft(t[0]),"%"),i.R7$(),i.SpI(" ",e.xStringify(t[0])," ")}}function Yt(t,e){if(1&t&&(i.j41(0,"div",19),i.EFF(1),i.k0s()),2&t){const t=i.XpG(),e=i.XpG(2);i.xc7("inset-block-end",e.getBottom(t[1]),"%"),i.R7$(),i.SpI(" ",e.yStringify(t[1])," ")}}function jt(t,e){if(1&t&&i.DNE(0,Bt,2,3,"div",16)(1,Yt,2,3,"div",17),2&t){const t=i.XpG(2);i.vxM(t.xStringify?0:-1),i.R7$(),i.vxM(t.yStringify?1:-1)}}function Et(t,e){if(1&t&&(i.qex(0),i.qSk(),i.j41(1,"svg",2)(2,"defs")(3,"linearGradient",3),i.nrm(4,"stop",4)(5,"stop",5),i.k0s()(),i.nrm(6,"path",6)(7,"path",7),i.k0s(),i.DNE(8,Nt,2,0)(9,Gt,2,0)(10,jt,2,2),i.bVm()),2&t){let t;const n=e.tuiLet,s=i.XpG();i.R7$(),i.BMQ("viewBox",s.viewBox()),i.R7$(2),i.BMQ("id",s.fillId),i.R7$(3),i.BMQ("d",s.fillD)("fill",s.fill),i.R7$(),i.BMQ("d",s.d),i.R7$(),i.vxM(s.dots?8:-1),i.R7$(),i.vxM(s.hasHints?9:-1),i.R7$(),i.vxM((t=s.getHovered(n))?10:-1,t)}}class Ft{constructor(){this.zone=(0,i.WQX)(i.SKi),this.options=(0,i.WQX)(zt),this.hover$=new Ct.B,this.autoId=(0,ct.XD)(),this.resize=(0,s.ot)((0,i.WQX)(xt.ke,{self:!0}).pipe((0,l.T)((([t])=>t?.contentRect.height||0))),{initialValue:0}),this.box=(0,i.vPA)(""),this.hintDirective=(0,i.WQX)(wt,{optional:!0}),this.hintOptions=(0,i.WQX)(ht.bk,{optional:!0}),this.viewBox=(0,i.EWP)((()=>{const t=this.height/Math.max(this.resize(),1),[e=0,n=0,i=0,s=0]=this.box().split(" ").map(Number);return`${e} ${n-t} ${i} ${s+2*t}`})),this.drivers=C.xQ,this.x=0,this.y=0,this.width=0,this.height=0,this.smoothingFactor=this.options.smoothingFactor,this.xStringify=null,this.yStringify=null,this.filled=this.options.filled,this.dots=this.options.dots,this.value=[]}set valueSetter(t){this.value=t.filter((t=>!t.some(Number.isNaN)))}ngOnChanges(){this.box.set(`${this.x} ${this.y} ${this.width} ${this.height}`)}onHovered(t){this.hover$.next(t)}get hovered$(){return this.hover$.pipe((0,_t.F)(),(0,r.sX)(this.zone))}get hintContent(){return this.hintOptions?.content||""}get fillId(){return`tui-line-chart-${this.autoId}`}get fill(){return this.filled?`url(#${this.fillId})`:"none"}get d(){return this.getD(this.value,this.smoothingFactor)}get fillD(){return this.value.length?`${this.d}V ${this.y} H ${this.value[0]?.[0]} V ${this.value[0]?.[1]}`:this.d}get isFocusable(){return!this.hintDirective&&this.hasHints}get hasHints(){return!!(this.xStringify||this.yStringify||this.hintDirective?.hint||this.hintContent)}onMouseLeave(){this.hintDirective||this.onHovered(NaN)}getX(t){return this.isSinglePoint?(this.value[0]?.[0]||0)/2:t?((this.value[t-1]?.[0]||0)+(this.value[t]?.[0]||0))/2:2*(this.value[0]?.[0]||0)-this.getX(1)}getWidth(t){return 100*this.computeWidth(t)/this.width}getHintId(t){return`${this.autoId}_${t}`}getImplicit(t){return this.hintDirective?.getContext(this.value.indexOf(t),this)??t}getHovered(t){return(0,A.Aj)(t)&&Number.isInteger(t)?this.value[t]??null:null}getBottom(t){return 100*(t-this.y)/this.height}getLeft(t){return 100*(t-this.x)/this.width}getOffset(t){return 100*((this.value[t]?.[0]||0)-this.getX(t))/this.computeWidth(t)}onMouseEnter(t){this.hintDirective?this.hintDirective.raise(t,this):this.onHovered(t)}get isSinglePoint(){return 1===this.value.length}getD(t,e){return t.reduce(((n,i,s)=>s?`${n} ${function(t,e,n){const i=[...t[e]??[0,0]];return n?function(t,e,n){const[i,s]=bt(t[e-1],t[e-2],t[e],!1,n),[o,r]=bt(t[e],t[e-1],t[e+1],!0,n),a=t[e]??[0,0];return`C ${i},${s} ${o},${r} ${a[0]},${a[1]}`}(t,e,n/500):function(t){return`L ${t}`}([i[0],i[1]])}(t,s,e)}`:`M ${i}`),"")}computeWidth(t){return t===this.value.length-1?2*((this.value[t]?.[0]||0)-this.getX(t)):this.getX(t+1)-this.getX(t)}}(Pt=Ft).ɵfac=function(t){return new(t||Pt)},Pt.ɵcmp=i.VBU({type:Pt,selectors:[["tui-line-chart"]],viewQuery:function(t,e){if(1&t&&i.GBs(ht.YO,5),2&t){let t;i.mGM(t=i.lsd())&&(e.drivers=t)}},hostBindings:function(t,e){1&t&&i.bIt("mouseleave",(function(){return e.onMouseLeave()}))},inputs:{x:"x",y:"y",width:"width",height:"height",smoothingFactor:"smoothingFactor",xStringify:"xStringify",yStringify:"yStringify",filled:"filled",dots:"dots",valueSetter:[0,"value","valueSetter"]},features:[i.Jv_([xt.ke],[(0,ht.dB)({direction:"top",hideDelay:0})]),i.OA$],decls:2,vars:3,consts:[["hintHost",""],[4,"tuiLet"],["focusable","false","height","100%","preserveAspectRatio","none","width","100%","xmlns","http://www.w3.org/2000/svg",1,"t-svg"],["x1","0","x2","0","y1","1","y2","0"],["offset","0%","stop-color","currentColor","stop-opacity","0.5"],["offset","100%","stop-color","currentColor","stop-opacity","0"],["stroke","none"],["fill","none","stroke","currentColor","stroke-width","2","vector-effect","non-scaling-stroke"],[1,"t-dot",3,"inset-block-end","inset-inline-start"],[1,"t-dot"],[1,"t-column",3,"t-column_hint_hovered","t-column_hovered","inset-inline-start","width","tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost"],[1,"t-line","t-line_horizontal",3,"inset-block-end"],[1,"t-column",3,"mouseenter","tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost"],[1,"t-line","t-line_vertical"],[1,"t-host",3,"id","tabIndex"],[1,"t-line","t-line_horizontal"],[1,"t-hint","t-hint_x",3,"inset-inline-start"],[1,"t-hint","t-hint_y",3,"inset-block-end"],[1,"t-hint","t-hint_x"],[1,"t-hint","t-hint_y"]],template:function(t,e){1&t&&(i.DNE(0,Et,11,8,"ng-container",1),i.nI1(1,"async")),2&t&&i.Y8G("tuiLet",i.bMT(1,1,e.hovered$))},dependencies:[J.Jj,ht.XZ,ht.$$,ht.c,yt.c],styles:['[_nghost-%COMP%]{display:flex;inline-size:100%;block-size:100%;pointer-events:none}.t-svg[_ngcontent-%COMP%]{block-size:calc(100% + 1px);transform:scaleY(-1);margin:-.03125rem 0}.t-column[_ngcontent-%COMP%]{position:absolute;top:0;block-size:100%;pointer-events:auto}.t-dot[_ngcontent-%COMP%]{position:absolute;inline-size:.375rem;block-size:.375rem;border-radius:100%;background:currentColor;margin:-.1875rem;box-shadow:0 0 0 2px #fff}.t-host[_ngcontent-%COMP%]{position:absolute;left:50%;inline-size:.5rem;block-size:.5rem;border-radius:100%;opacity:0;background:#fff;margin:-.25rem;box-shadow:0 0 0 2px currentColor,0 .0625rem .1875rem .125rem #0000001a;outline:none;pointer-events:none}.t-host[_ngcontent-%COMP%]:focus, .t-column_hovered[_ngcontent-%COMP%]   .t-host[_ngcontent-%COMP%], .t-column[_ngcontent-%COMP%]:hover   .t-host[_ngcontent-%COMP%], .t-column_hint_hovered[_ngcontent-%COMP%]   .t-host[_ngcontent-%COMP%]{opacity:1}.t-line[_ngcontent-%COMP%]{position:absolute;opacity:0;background:var(--tui-border-normal)}.t-line_vertical[_ngcontent-%COMP%]{top:0;bottom:0;left:50%;inline-size:1px}.t-line_horizontal[_ngcontent-%COMP%]{z-index:-1;inline-size:100%;block-size:1px}[style^="z-index: 0"][_nghost-%COMP%]   .t-column_hovered[_ngcontent-%COMP%]   .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column[_ngcontent-%COMP%]:hover   .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column_hint_hovered[_ngcontent-%COMP%]   .t-line[_ngcontent-%COMP%], [style^="z-index: 0"][_nghost-%COMP%]   .t-column_hovered[_ngcontent-%COMP%] + .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column[_ngcontent-%COMP%]:hover + .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column_hint_hovered[_ngcontent-%COMP%] + .t-line[_ngcontent-%COMP%]{opacity:1}.t-hint[_ngcontent-%COMP%]{position:absolute;box-shadow:var(--tui-shadow-small);font:var(--tui-font-text-xs);block-size:1.25rem;line-height:1.25rem;margin-block-end:-.625rem;padding:0 .375rem;white-space:nowrap;color:var(--tui-text-primary);background:var(--tui-background-base);transform:translate3d(-50%,0,0)}.t-hint_x[_ngcontent-%COMP%]{bottom:0}.t-hint_y[_ngcontent-%COMP%]{left:0}'],changeDetection:0}),(0,Q.Cg)([A.PE],Ft.prototype,"hovered$",null),(0,Q.Cg)([A.PE],Ft.prototype,"getD",null);var Qt,Vt,At=n(66437),Wt=n(59996);function Tt(t,e){return t.find((([t])=>t.daySame(e)))||[e,NaN]}class Zt{constructor(){this.charts=C.xQ,this.destroyRef=(0,i.WQX)(i.abz),this.zone=(0,i.WQX)(i.SKi),this.hovered$=(0,i.WQX)(kt.Lo)}ngAfterContentInit(){(0,It.z)([...this.charts.map((({charts:t})=>St(t))),this.hovered$]).pipe((0,$t.p)((t=>!t.some(Boolean))),(0,r.rB)(this.zone),(0,s.pQ)(this.destroyRef)).subscribe((()=>{this.charts.forEach((t=>t.onHovered(NaN)))}))}getContext(t){return this.getMap(...this.charts.map((({value:t})=>t))).get(String(t))||[]}raise(t){const e=this.charts.map((({value:e})=>t?Tt(e,t):[])).filter((([t,e])=>!Number.isNaN(e))),n=[...e].sort(((t,e)=>t[1]-e[1]));this.charts.forEach(((i,s)=>{const o=e[s];i.onHovered(t),i.zIndex=Math.max(o?n.indexOf(o):0,0)}))}getMap(...t){return(t[0]||[]).reduce(((e,[n])=>e.set(String(n),t.map((t=>Tt(t,n))))),new Map)}}(Qt=Zt).ɵfac=function(t){return new(t||Qt)},Qt.ɵdir=i.FsC({type:Qt,selectors:[["","tuiLineChartHint",""]],contentQueries:function(t,e,n){if(1&t&&i.wni(n,ee,4),2&t){let t;i.mGM(t=i.lsd())&&(e.charts=t)}},inputs:{hint:[0,"tuiLineChartHint","hint"]},features:[i.Jv_([kt.Lo])]}),(0,Q.Cg)([A.PE],Zt.prototype,"getMap",null);const Jt=t=>({$implicit:t});function qt(t,e){if(1&t&&i.nrm(0,"tui-line-chart",2),2&t){let t,n;const s=e.$implicit,o=e.$index,r=i.XpG(),a=i.sdS(3);i.xc7("z-index",r.zIndex),i.Y8G("dots",r.dots)("height",r.height)("smoothingFactor",r.smoothingFactor)("tuiHintContent",r.hintContent?a:"")("value",s)("width",0===o?r.firstWidth:r.getWidth(null!==(t=null==s[0]?null:s[0][0])&&void 0!==t?t:0))("x",0===o?0:r.getX(null!==(n=null==s[0]?null:s[0][0])&&void 0!==n?n:0))("xStringify",r.xStringify?r.daysStringify:null)("y",r.y)("yStringify",r.yStringify)}}function Ut(t,e){if(1&t&&(i.qex(0),i.EFF(1),i.bVm()),2&t){const t=e.polymorpheusOutlet;i.R7$(),i.SpI(" ",t," ")}}function Kt(t,e){if(1&t&&i.DNE(0,Ut,2,1,"ng-container",3),2&t){const t=e.$implicit,n=i.XpG();i.Y8G("polymorpheusOutlet",n.hintContent)("polymorpheusOutletContext",i.eq3(2,Jt,n.getHintContext(t[0],n.value)))}}const te=[NaN,NaN];class ee{constructor(){this.destroyRef=(0,i.WQX)(i.abz),this.zone=(0,i.WQX)(i.SKi),this.hovered$=(0,i.WQX)(kt.Lo),this.options=(0,i.WQX)(zt),this.hintDirective=(0,i.WQX)(Zt,{optional:!0}),this.charts=C.xQ,this.y=0,this.height=0,this.smoothingFactor=this.options.smoothingFactor,this.xStringify=null,this.yStringify=null,this.dots=this.options.dots,this.zIndex=0,this.value=[],this.daysStringify=t=>{const e=this.getDay(t);return this.xStringify&&e?this.xStringify(e):""}}set valueSetter(t){if(!t.length)return void(this.value=[]);const e=t[0]?.[0],n=t[t.length-1],i=[...t],s=e&&n?At.JK.lengthBetween(e,n[0])+1:0;this.value=Array.from({length:s},((t,n)=>{const s=i[0]?.[0],o=e?.append({day:n}),r=s&&o?.daySame(s)?i.shift():null;return[o,r?r[1]:NaN]}))}get hint(){return this.hintDirective?.hint??this.hintContent}ngAfterViewInit(){(0,It.z)([St(this.charts),this.hovered$]).pipe((0,$t.p)((t=>!t.some(Boolean))),(0,r.rB)(this.zone),(0,s.pQ)(this.destroyRef)).subscribe((()=>{this.onHovered(NaN)}))}onHovered(t){if((0,A.sZ)(t))return void this.charts.forEach((t=>t.onHovered(NaN)));const e=this.value[0]?.[0],n=e&&t?At.x_.lengthBetween(e,t):0,i=e&&t?At.JK.lengthBetween(e,t)+e.day-1:0,s=this.charts.get(n);this.charts.forEach((t=>{t===s?s.onHovered(s.value.findIndex((t=>t[0]===i))):t.onHovered(NaN)}))}raise(t,{value:e}){const n=e[t]?.[0]||0,i=this.getDay(n);i&&(this.hintDirective?this.hintDirective.raise(i):this.onHovered(i))}getContext(t,{value:e}){const n=e[t]?.[0]||0,i=this.getDay(n);return this.hintDirective&&i?this.hintDirective.getContext(i):this.getHintContext(n,this.value)}get months(){return this.value.length?this.breakMonths(this.value):C.Ml}get firstWidth(){return this.months.length*(this.value[0]?.[0].daysCount||0)}getHintContext(t,e){return e[t-(e[0]?.[0]?.day||0)+1]??null}getX(t){const e=this.value[0]?.[0],n=this.getDay(t);return t-(e&&n?At.x_.lengthBetween(e,n):0)*(n?.daysCount||0)}getWidth(t){return(this.getDay(t)?.daysCount||0)*this.months.length}breakMonths(t){const e=(t[0]?.[0].day||1)-1,n=t[0]?.[0],i=t[t.length-1]?.[0];return Array.from({length:n&&i?At.x_.lengthBetween(n,i)+1:0},((t,e)=>e+(n?.month||0)+12*(n?.year||0))).map((n=>t.map((([{month:t,year:i},s],o)=>t+12*i===n?[o+e,s]:null)).filter(A.Aj))).map(((t,e,n)=>e===n.length-1?t:[...t,n[e+1]?.find((t=>!Number.isNaN(t[1])))||te]))}getDay(t){const e=this.value[0]?.[0];return this.value[t-(e?.day||0)+1]?.[0]}}(Vt=ee).ɵfac=function(t){return new(t||Vt)},Vt.ɵcmp=i.VBU({type:Vt,selectors:[["tui-line-days-chart"]],viewQuery:function(t,e){if(1&t&&i.GBs(Ft,5),2&t){let t;i.mGM(t=i.lsd())&&(e.charts=t)}},hostVars:2,hostBindings:function(t,e){2&t&&i.xc7("z-index",e.zIndex)},inputs:{y:"y",height:"height",smoothingFactor:"smoothingFactor",hintContent:"hintContent",xStringify:"xStringify",yStringify:"yStringify",dots:"dots",valueSetter:[0,"value","valueSetter"]},features:[i.Jv_([kt.Lo,{provide:wt,useExisting:Vt}])],decls:4,vars:0,consts:[["hint",""],[1,"t-chart",3,"dots","height","smoothingFactor","zIndex","tuiHintContent","value","width","x","xStringify","y","yStringify"],[1,"t-chart",3,"dots","height","smoothingFactor","tuiHintContent","value","width","x","xStringify","y","yStringify"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(t,e){1&t&&(i.Z7z(0,qt,1,12,"tui-line-chart",1,i.fX1),i.DNE(2,Kt,1,4,"ng-template",null,0,i.C5r)),2&t&&i.Dyx(e.months)},dependencies:[Wt.xr,ht.bk,Ft],styles:["[_nghost-%COMP%]{display:block}.t-chart[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%}"],changeDetection:0}),(0,Q.Cg)([A.PE],ee.prototype,"getHintContext",null),(0,Q.Cg)([A.PE],ee.prototype,"breakMonths",null);var ne=n(6412);function ie(t){return t*Math.PI/180}var se=n(61358),oe=n(88362),re=n(26016),ae=n(68339),le=n(1628),ce=n(61204),he=n(88146),ue=n(2144);let de=(()=>{var t;class e{constructor(){this.sector$=new ce.t([0,0]),this.el=(0,oe.qW)(),this.performance=(0,i.WQX)(ne.sj),this.animationFrame$=(0,i.WQX)(ne.OX),this.speed=(0,i.WQX)(ae.nV),this.$=this.sector$.pipe((0,he.J)(),(0,u.n)((([t,e])=>{const n=this.performance.now(),i=e[0]-t[0],s=e[1]-t[1];return this.animationFrame$.pipe((0,l.T)((t=>(0,A.ZH)((0,re.w)((t-n)/(0,le.T0)(this.speed),0,1)))),(0,ue.v)((t=>t<1),!0),(0,l.T)((n=>[t[0]+i*n,e[1]>359?e[1]:t[1]+s*n])))})),(0,r.rB)(),(0,s.pQ)()).subscribe((([t,e])=>this.el.setAttribute("d",function(t=0,e=0){const n=ie(t),i=ie(e),s=100*Math.cos(n),o=100*Math.sin(n),r=100*Math.cos(i),a=100*Math.sin(i),l=["M",s,o,"A 100 100 0",(0,se.Z)(e-t>180),1,r,a,"L 0 0"];return Number.isNaN(r)?"M 100 0 A 100 100 0 1 1 100 0 L 0 0":l.join(" ")}(t,e))))}set tuiPieChart(t){this.sector$.next(t)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵdir=i.FsC({type:t,selectors:[["path","tuiPieChart",""]],inputs:{tuiPieChart:"tuiPieChart"}}),e})();var pe;const ge=t=>({$implicit:t}),me=()=>[0,0];function ve(t,e){if(1&t){const t=i.RV6();i.qSk(),i.j41(0,"path",5),i.bIt("tuiHoveredChange",(function(e){const n=i.eBV(t).$implicit,s=i.XpG();return i.Njj(s.onHovered(e,n))})),i.k0s()}if(2&t){const t=e.$implicit,n=i.XpG();i.xc7("color",`var(--tui-chart-categorical-${t.toString().padStart(2,"0")})`),i.Y8G("tuiHint",n.hintContent)("tuiHintContext",i.eq3(6,ge,t))("tuiPieChart",n.segments[t]||i.lJ4(8,me)),i.BMQ("transform",n.getTransform(t))}}const fe={xs:"50",s:"50",m:"77.8",l:"81.9",xl:"81.3"},xe={xs:1.15,s:1.25,m:1.11,l:1.09,xl:1.08};class be{constructor(){this.hintOptions=(0,i.WQX)(ht.bk,{optional:!0}),this.autoId=(0,ct.XD)(),this.value=[],this.size="m",this.masked=!1,this.activeItemIndex=NaN,this.activeItemIndexChange=new i.bkB,this.hintOptions&&(this.hintOptions.showDelay=0,this.hintOptions.hideDelay=0)}get empty(){return!this.getSum(this.value)}get hintContent(){return this.hintOptions?.content||""}get maskId(){return`tui-ring-chart-${this.autoId}`}get mask(){return this.masked?`url(#${this.maskId})`:null}get radius(){return fe[this.size]}get segments(){return this.getSegments(this.value)}getTransform(t){const e=this.masked?`scale(${xe[this.size]})`:`scale(${xe.xs})`;return t===this.activeItemIndex?e:null}onHovered(t,e){this.updateActiveItemIndex(t?e:NaN)}getSum(t){return(0,V.y)(...t)}getSegments(t){return t.map(((t,e,n)=>n.reduce(((t,n,i)=>i<e?this.getDeg(n)+t:t),this.getDeg(t)))).map(((t,e,n)=>[n[e-1]||0,Math.min(t,359.9999)]))}getDeg(t){return t/this.getSum(this.value)*360||0}updateActiveItemIndex(t){t!==this.activeItemIndex&&(this.activeItemIndex=t,this.activeItemIndexChange.next(t))}}(pe=be).ɵfac=function(t){return new(t||pe)},pe.ɵcmp=i.VBU({type:pe,selectors:[["tui-pie-chart"]],hostVars:3,hostBindings:function(t,e){2&t&&(i.BMQ("data-size",e.size),i.AVh("_empty",e.empty))},inputs:{value:"value",size:"size",masked:"masked",activeItemIndex:"activeItemIndex"},outputs:{activeItemIndexChange:"activeItemIndexChange"},features:[i.Jv_([],[(0,ht.dB)({direction:"top-right",appearance:"floating"})])],decls:8,vars:5,consts:[["focusable","false","height","100%","viewBox","-100 -100 200 200","width","100%","xmlns","http://www.w3.org/2000/svg",1,"t-svg"],["fill","white","height","400","width","400","x","-200","y","-200"],["cx","0","cy","0"],["cx","0","cy","0","r","100",1,"t-placeholder"],["automation-id","tui-pie-chart__segment","d","","fill","currentColor","tuiHintPointer","","class","t-segment",3,"color","tuiHint","tuiHintContext","tuiPieChart","tuiHoveredChange",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-pie-chart__segment","d","","fill","currentColor","tuiHintPointer","",1,"t-segment",3,"tuiHoveredChange","tuiHint","tuiHintContext","tuiPieChart"]],template:function(t,e){1&t&&(i.qSk(),i.j41(0,"svg",0)(1,"defs")(2,"mask"),i.nrm(3,"rect",1)(4,"circle",2),i.k0s()(),i.j41(5,"g"),i.nrm(6,"circle",3),i.DNE(7,ve,1,9,"path",4),i.k0s()()),2&t&&(i.R7$(2),i.BMQ("id",e.maskId),i.R7$(2),i.BMQ("r",e.radius),i.R7$(),i.xc7("mask",e.mask),i.R7$(2),i.Y8G("tuiRepeatTimesOf",e.segments.length))},dependencies:[ht.XZ,ht.nV,kt.YT,de,o.C],styles:["[_nghost-%COMP%]{position:relative;display:block;inline-size:var(--t-size);block-size:var(--t-size);border-radius:100%}[data-size=xs][_nghost-%COMP%]{--t-size: 2rem;pointer-events:none}[data-size=s][_nghost-%COMP%]{--t-size: 4rem}[data-size=m][_nghost-%COMP%]{--t-size: 9rem}[data-size=l][_nghost-%COMP%]{--t-size: 11rem}[data-size=xl][_nghost-%COMP%]{--t-size: 16rem}.t-svg[_ngcontent-%COMP%]{position:relative;overflow:visible;transform:rotate(-90deg)}.t-segment[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}._empty[_nghost-%COMP%]   .t-segment[_ngcontent-%COMP%]{display:none}.t-placeholder[_ngcontent-%COMP%]{fill:var(--tui-background-neutral-1)}"],changeDetection:0}),(0,Q.Cg)([A.PE],be.prototype,"getSum",null),(0,Q.Cg)([A.PE],be.prototype,"getSegments",null);const ye=["*"];let Ce=(()=>{var t;class e{constructor(){this.value=[],this.size="m",this.activeItemIndex=NaN,this.activeItemIndexChange=new i.bkB}onActiveItemIndexChange(t){this.updateActiveItemIndex(t)}updateActiveItemIndex(t){t!==this.activeItemIndex&&(this.activeItemIndex=t,this.activeItemIndexChange.next(t))}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=i.VBU({type:t,selectors:[["tui-ring-chart"]],hostVars:1,hostBindings:function(t,e){2&t&&i.BMQ("data-size",e.size)},inputs:{value:"value",size:"size",activeItemIndex:"activeItemIndex"},outputs:{activeItemIndexChange:"activeItemIndexChange"},ngContentSelectors:ye,decls:5,vars:4,consts:[[1,"t-content"],[1,"t-wrapper"],[1,"t-chart",3,"activeItemIndexChange","activeItemIndex","masked","size","value"],[1,"t-shield"]],template:function(t,e){1&t&&(i.NAR(),i.j41(0,"div",0)(1,"div",1),i.SdG(2),i.k0s()(),i.j41(3,"tui-pie-chart",2),i.bIt("activeItemIndexChange",(function(t){return e.onActiveItemIndexChange(t)})),i.k0s(),i.nrm(4,"div",3)),2&t&&(i.R7$(3),i.Y8G("activeItemIndex",e.activeItemIndex)("masked",!0)("size",e.size)("value",e.value))},dependencies:[be],styles:["[_nghost-%COMP%]{position:relative;display:block;inline-size:var(--t-size);block-size:var(--t-size);flex-shrink:0;border-radius:100%}[data-size=xs][_nghost-%COMP%]{--t-size: 3rem}[data-size=s][_nghost-%COMP%]{--t-size: 4rem}[data-size=m][_nghost-%COMP%]{--t-size: 9rem}[data-size=l][_nghost-%COMP%]{--t-size: 11rem}[data-size=xl][_nghost-%COMP%]{--t-size: 16rem}.t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex;font:var(--tui-font-text-m);max-block-size:100%;flex-direction:column;justify-content:center;text-align:center;padding:1.5rem;border-radius:100%;box-sizing:border-box;overflow:hidden;word-break:break-word;white-space:pre-wrap;color:var(--tui-text-secondary)}[data-size=m][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-xs)}.t-wrapper[_ngcontent-%COMP%]:first-line{color:var(--tui-text-primary)}[data-size=l][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-text-l);font-weight:700}[data-size=m][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-text-m);font-weight:700}.t-shield[_ngcontent-%COMP%]{position:absolute;top:25%;left:25%;right:25%;bottom:25%;border-radius:100%}.t-chart[_ngcontent-%COMP%]{inline-size:100%;block-size:100%}"],changeDetection:0}),e})()}}]);