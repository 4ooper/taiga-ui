(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[44905],{44905:(t,e,n)=>{n.r(e),n.d(e,{default:()=>J});var i,s=n(84911),a=n(4594),o=n(66094),u=n(85483),l=n(53102),r=n(45957),c=n(98808),h=n(39908),p=n(13448),g=n(19403),f=n(275),d=n(51160),m=n(64870),x=n(905),C=n(29963),T=n(97318),v=n(89407),A=n(35548),$=n(38252),w=n(63142),M=n(69732);function Z(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"button",6),A.NdJ("click",(function(){const e=A.CHM(t).$implicit,n=A.oxw(4);return A.KtG(n.onClick(e))})),A.TgZ(1,"tui-avatar",7),A._uU(2),A.qZA(),A.TgZ(3,"span",8)(4,"span"),A._uU(5),A.qZA(),A.TgZ(6,"span",9),A._uU(7),A.qZA()()()}if(2&t){const t=e.$implicit;A.Q6J("disabled",t.disabled)("value",t.phone),A.xp6(1),A.Q6J("src",t.avatarUrl),A.xp6(1),A.hij(" ",t.firstName," "),A.xp6(3),A.AsE("",t.firstName," ",t.lastName,""),A.xp6(2),A.Oqu(t.phone)}}function N(t,e){if(1&t&&(A.TgZ(0,"tui-data-list"),A.YNc(1,Z,8,7,"button",5),A.qZA()),2&t){const t=A.oxw(2).tuiLet;A.xp6(1),A.Q6J("ngForOf",t)}}function U(t,e){1&t&&(A.ynx(0),A.YNc(1,N,2,1,"tui-data-list",4),A.BQk())}function b(t,e){if(1&t){const t=A.EpF();A.TgZ(0,"tui-input-phone",2),A.NdJ("ngModelChange",(function(e){A.CHM(t);const n=A.oxw();return A.KtG(n.value=e)}))("searchChange",(function(e){A.CHM(t);const n=A.oxw();return A.KtG(n.onSearch(e))})),A._uU(1),A.ALo(2,"async"),A.YNc(3,U,2,0,"ng-container",3),A.qZA()}if(2&t){const t=e.tuiLet,n=A.oxw(),i=A.MAs(3);A.Q6J("allowText",!0)("tuiTextfieldCustomContent",i)("ngModel",n.value),A.xp6(1),A.hij(" ",A.lcZ(2,5,n.placeholder$)," "),A.xp6(2),A.Q6J("ngIf",null==t?null:t.length)}}function L(t,e){if(1&t&&(A.TgZ(0,"tui-avatar",11),A._uU(1),A.qZA()),2&t){const t=e.ngIf;A.Q6J("src",t.avatarUrl),A.xp6(1),A.hij(" ",t.firstName," ")}}function O(t,e){if(1&t&&(A.YNc(0,L,2,2,"tui-avatar",10),A.ALo(1,"async")),2&t){const t=A.oxw();A.Q6J("ngIf",A.lcZ(1,1,t.user$))}}class _{constructor(t,e,n,i=null,s=!1){this.firstName=t,this.lastName=e,this.phone=n,this.avatarUrl=i,this.disabled=s}toString(){return`${this.firstName} ${this.lastName}`}}const k=[new _("Roman","Sedov","+75678901234","https://avatars.githubusercontent.com/u/10106368"),new _("Alex","Inkin","+75678901234",u.Ll`/images/avatar.jpg`)];class q{constructor(){this.search$=new p.x,this.selected$=new p.x,this.value="",this.user$=(0,g.T)(this.selected$,this.search$.pipe((0,f.w)((t=>this.request(t).pipe((0,d.U)((e=>this.isFullMatch(e,t)?e[0]:null))))))).pipe((0,m.b)((t=>{t&&(this.value=t.phone)}))),this.items$=this.search$.pipe((0,x.O)(""),(0,f.w)((t=>this.request(t).pipe((0,d.U)((e=>this.isFullMatch(e,t)?[]:e)))))),this.placeholder$=(0,C.a)([this.user$,this.search$]).pipe((0,d.U)((([t,e])=>t||this.getPlaceholder(e))),(0,x.O)("Phone number or name"))}onSearch(t){this.search$.next(t)}onClick(t){this.selected$.next(t)}request(t){return(0,T.of)(k.filter((e=>(0,l.TUI_DEFAULT_MATCHER)(e,t)||(0,l.TUI_DEFAULT_MATCHER)(e.phone,t)))).pipe((0,v.B)())}getPlaceholder(t){return t?t.startsWith("+")?"Phone number":"Name":"Phone number or name"}isFullMatch(t,e){return 1===t.length&&(String(t[0])===e||t[0].phone===e)}}(i=q).ɵfac=function(t){return new(t||i)},i.ɵcmp=A.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,exportAs:"ExampleComponent3",features:[A.jDz],decls:6,vars:4,consts:[[3,"allowText","tuiTextfieldCustomContent","ngModel","ngModelChange","searchChange",4,"tuiLet"],["avatar",""],[3,"allowText","tuiTextfieldCustomContent","ngModel","ngModelChange","searchChange"],[4,"ngIf"],[4,"tuiDataList"],["tuiOption","",3,"disabled","value","click",4,"ngFor","ngForOf"],["tuiOption","",3,"disabled","value","click"],["size","s",1,"tui-space_right-3",3,"src"],[1,"user"],[1,"phone"],["size","s",3,"src",4,"ngIf"],["size","s",3,"src"]],template:function(t,e){1&t&&(A.YNc(0,b,4,7,"tui-input-phone",0),A.ALo(1,"async"),A.YNc(2,O,2,3,"ng-template",null,1,A.W1O),A.TgZ(4,"p"),A._uU(5),A.qZA()),2&t&&(A.Q6J("tuiLet",A.lcZ(1,2,e.items$)),A.xp6(5),A.hij("Value: ",e.value,""))},dependencies:[h.Kj,$.y,w.X,l.TuiLetDirective,a.Ov,r.TuiTextfieldControllerModule,M.B,o.u5,o.JJ,o.On,a.O5,r.TuiDataListComponent,r.TuiDataListDirective,a.sg,r.TuiOptionComponent,c.TuiAvatarComponent],styles:[".user[_ngcontent-%COMP%]{margin-right:auto}.phone[_ngcontent-%COMP%]{font:var(--tui-font-text-s);display:block;color:var(--tui-text-03)}"],changeDetection:0}),(0,s.gn)([l.tuiPure],q.prototype,"request",null);const J=q}}]);