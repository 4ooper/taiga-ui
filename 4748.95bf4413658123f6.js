(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[4748],{27128:(t,e,n)=>{n.r(e),n.d(e,{ExampleTuiLineDaysChartModule:()=>rt});var o,a=n(86568),i=n(35856),r=n(82312),u=n(49120),c=n(752),s=n(45328),l=n(62548),m=n(33976),h=n(14184),y=n(6528),p=n(45384),d=n(89888),g=n(13692),f=n(96808),C=n(95356),P=n(56616),x=n(34496),O=n(37288),T=n(83480),w=n(42871),E=n(48892),M=n(24768);function $(t,e){if(1&t&&(y.I0R(0,"tui-axes",3),y.wR5(1,"tui-line-days-chart",4),y.wVc(2,"async"),y.C$Y()),2&t){const t=e.ngIf,n=y.GaO();y.E7m("axisXLabels",t)("horizontalLines",4)("verticalLines",t.length),y.yG2(1),y.E7m("height",200)("value",n.value)("xStringify",y.kDX(2,7,n.xStringify$))("yStringify",n.yStringify)}}class G{constructor(t,e){this.months$=t,this.isE2E=e,this.range=new s.TuiDayRange(s.TuiDay.currentLocal(),s.TuiDay.currentLocal().append({year:1})),this.maxLength={month:12},this.xStringify$=this.months$.pipe((0,h.k)((t=>({month:e,day:n})=>`${t[e]}, ${n}`))),this.yStringify=t=>`${(10*t).toLocaleString("en-US",{maximumFractionDigits:0})} $`}get value(){return this.computeValue(this.range)}computeLabels$({from:t,to:e}){return this.months$.pipe((0,h.k)((n=>Array.from({length:s.TuiMonth.lengthBetween(t,e)+1},((e,o)=>n[t.append({month:o}).month])))))}computeValue({from:t,to:e}){return new Array(s.TuiDay.lengthBetween(t,e)+1).fill(0).reduce(((e,n,o)=>[...e,[t.append({day:o}),this.isE2E?100:(o?e[o-1][1]:100)+10*Math.random()-5]]),[])}}(o=G).ɵfac=function(t){return new(t||o)(y.GI1(l.TUI_MONTHS),y.GI1(s.TUI_IS_E2E))},o.ɵcmp=y.In1({type:o,selectors:[["tui-line-days-chart-example-1"]],decls:5,vars:5,consts:[[1,"b-form"],[3,"maxLength","ngModel","ngModelChange"],["class","axes",3,"axisXLabels","horizontalLines","verticalLines",4,"ngIf"],[1,"axes",3,"axisXLabels","horizontalLines","verticalLines"],[1,"chart",3,"height","value","xStringify","yStringify"]],template:function(t,e){1&t&&(y.I0R(0,"p",0)(1,"tui-input-date-range",1),y.qCj("ngModelChange",(function(t){return e.range=t})),y.OEk(2," Range "),y.C$Y()(),y.yuY(3,$,3,9,"tui-axes",2),y.wVc(4,"async")),2&t&&(y.yG2(1),y.E7m("maxLength",e.maxLength)("ngModel",e.range),y.yG2(2),y.E7m("ngIf",y.kDX(4,3,e.computeLabels$(e.range))))},dependencies:[a.u_,i.ue,i._G,p.a,d.Q,E.Y,M.K,a.a],styles:["[_nghost-%COMP%]{display:block;width:50rem}.axes[_ngcontent-%COMP%]{height:12.5rem;color:#bc71c9}"],changeDetection:0}),(0,w.UN)([s.tuiPure],G.prototype,"computeLabels$",null),(0,w.UN)([s.tuiPure],G.prototype,"computeValue",null);var V=n(10152),D=n(74551),L=n(62224),S=n(96616),b=n(89936),v=n(80896),I=n(20816);function k(t){return t.filter(((t,e)=>!(e%2)))}let Y=(()=>{var t;class e{constructor(t){this.months$=t}transform({from:t,to:e}){const n=s.TuiDay.lengthBetween(t,e);if(n>90)return this.months$.pipe((0,h.k)((n=>Array.from({length:s.TuiMonth.lengthBetween(t,e)+1},((e,o)=>n[t.append({month:o}).month])))));const o=Array.from({length:n},((e,n)=>t.append({day:n}))),a=function(t){return t.filter((t=>!t.dayOfWeek())).map(String)}(o),i=o.map(String);return n>60?(0,I.of)(k(a)):n>14?(0,I.of)(a):n>7?(0,I.of)(k(i)):(0,I.of)(i)}}return(t=e).ɵfac=function(e){return new(e||t)(y.GI1(l.TUI_MONTHS,16))},t.ɵpipe=y.UTH({name:"labels",type:t,pure:!0}),e})();var R;function _(t,e){if(1&t&&(y.I0R(0,"span",7)(1,"small",8),y.OEk(2),y.C$Y()()),2&t){const t=e.index;y.yG2(2),y.oRS("Chart ",t+1,"")}}function F(t,e){if(1&t&&(y.wR5(0,"tui-line-days-chart",13),y.wVc(1,"tuiFilter")),2&t){const t=e.$implicit,n=y.GaO(3);y.E7m("height",200)("value",y.I7O(1,2,t,n.filter,n.range))}}function N(t,e){if(1&t&&(y.SAx(0),y.yuY(1,F,2,6,"tui-line-days-chart",12),y.k70()),2&t){const t=y.GaO(2);y.yG2(1),y.E7m("ngForOf",t.days)}}function A(t,e){if(1&t&&(y.wR5(0,"tui-line-chart",15),y.wVc(1,"tuiMapper"),y.wVc(2,"tuiFilter")),2&t){const t=e.$implicit,n=y.GaO(3);y.E7m("height",200)("value",y.I7O(1,3,y.I7O(2,7,t,n.filter,n.range),n.toNumbers,n.range))("width",n.getWidth(n.range))}}function X(t,e){if(1&t&&y.yuY(0,A,3,11,"tui-line-chart",14),2&t){const t=y.GaO(2);y.E7m("ngForOf",t.days)}}function U(t,e){if(1&t&&(y.I0R(0,"tui-axes",9),y.yuY(1,N,2,1,"ng-container",10),y.yuY(2,X,1,1,"ng-template",null,11,y.gJz),y.C$Y()),2&t){const t=e.ngIf,n=y.Gew(3),o=y.GaO(),a=y.Gew(15);y.E7m("axisXLabels",t)("horizontalLines",4)("tuiLineChartHint",a)("verticalLines",t.length),y.yG2(1),y.E7m("ngIf",o.getWidth(o.show)>90)("ngIfElse",n)}}function q(t,e){if(1&t&&(y.I0R(0,"div",7)(1,"span",17),y.OEk(2),y.C$Y()()),2&t){const t=e.$implicit;y.yG2(2),y.oRS("$",t[1].toFixed(0),"")}}function H(t,e){if(1&t&&(y.I0R(0,"div",16)(1,"strong"),y.OEk(2),y.C$Y()(),y.I0R(3,"div"),y.yuY(4,q,3,1,"div",4),y.C$Y()),2&t){const t=e.$implicit,n=y.GaO();y.yG2(2),y.cNF(n.getDate(t[0][0],n.range.from)),y.yG2(2),y.E7m("ngForOf",t)}}class j{constructor(t){this.isE2E=t,this.data=new s.TuiDayRange(s.TuiDay.currentLocal(),s.TuiDay.currentLocal().append({month:5})),this.show=this.data,this.days=this.computeArrays(this.data),this.maxLength={month:6},this.filter=([t],{from:e,to:n})=>t.daySameOrAfter(e)&&t.daySameOrBefore(n),this.toNumbers=(t,{from:e})=>t.map((([t,n])=>[s.TuiDay.lengthBetween(e,t),n]))}get range(){return this.computeRange(this.show)}getWidth({from:t,to:e}){return s.TuiDay.lengthBetween(t,e)}getDate(t,e){return t instanceof s.TuiDay?t:e.append({day:t})}onDataChange(t){this.days=this.computeArrays(t)}computeRange(t){const{from:e,to:n}=t,o=s.TuiDay.lengthBetween(e,n),a=e.dayOfWeek(),i=n.dayOfWeek(),r=a?e.append({day:7-a}):e,u=i?n.append({day:7-i}):n,c=s.TuiDay.lengthBetween(r,u);return o>90?t:o>60?new s.TuiDayRange(r,u.append({day:c%14})):o>14?new s.TuiDayRange(r,u):new s.TuiDayRange(e,n.append({day:o%2}))}computeData({from:t,to:e},n){return new Array(s.TuiDay.lengthBetween(t,e)+1).fill(0).reduce(((e,o,a)=>[...e,[t.append({day:a}),this.isE2E?n:Math.max((a?e[a-1][1]:n)+10*Math.random()-5,0)]]),[]).filter((([t])=>t.dayOfWeek()<5))}computeArrays(t){return[this.computeData(t,100),this.computeData(t,75),this.computeData(t,50)]}}function z(t,e){if(1&t&&(y.I0R(0,"p"),y.OEk(1,"Line chart but for days"),y.C$Y(),y.I0R(2,"tui-doc-example",2),y.wR5(3,"tui-line-days-chart-example-1"),y.C$Y(),y.I0R(4,"tui-doc-example",3),y.wR5(5,"tui-line-days-chart-example-2"),y.C$Y()),2&t){const t=y.GaO();y.yG2(2),y.E7m("content",t.example1),y.yG2(2),y.E7m("content",t.example2)("fullsize",!0)}}function B(t,e){1&t&&y.OEk(0," Show dots on chart ")}function J(t,e){1&t&&(y.OEk(0," Content of hint for hover. It has "),y.I0R(1,"code"),y.OEk(2,"$implicit"),y.C$Y(),y.OEk(3," in context with a tuple "),y.I0R(4,"code"),y.OEk(5,"[TuiDay, number]"),y.C$Y())}function W(t,e){1&t&&y.OEk(0," Axis Y range, pixel scale is 1:1 ")}function Q(t,e){1&t&&y.OEk(0," Start of Y axis ")}function K(t,e){1&t&&y.OEk(0," Smoothing factor from 0 to 99 ")}function Z(t,e){1&t&&y.OEk(0," Array of data ")}function tt(t,e){1&t&&y.OEk(0," Function to stringify a value number to a string in axis X hint ")}function et(t,e){1&t&&y.OEk(0," Function to stringify a value number to a string in axis Y hint ")}(R=j).ɵfac=function(t){return new(t||R)(y.GI1(s.TUI_IS_E2E))},R.ɵcmp=y.In1({type:R,selectors:[["tui-line-days-chart-example-2"]],decls:16,vars:10,consts:[[1,"controls"],[1,"b-form",3,"maxLength","ngModel","ngModelChange"],[1,"b-form","tui-space_left-4",3,"maxLength","ngModel","ngModelChange"],[1,"legend"],["class","item",4,"ngFor","ngForOf"],["class","axes",3,"axisXLabels","horizontalLines","tuiLineChartHint","verticalLines",4,"ngIf"],["hint",""],[1,"item"],[1,"name"],[1,"axes",3,"axisXLabels","horizontalLines","tuiLineChartHint","verticalLines"],[4,"ngIf","ngIfElse"],["line",""],["class","chart",3,"height","value",4,"ngFor","ngForOf"],[1,"chart",3,"height","value"],["class","chart",3,"height","value","width",4,"ngFor","ngForOf"],[1,"chart",3,"height","value","width"],[1,"tui-space_bottom-2"],[1,"value"]],template:function(t,e){1&t&&(y.I0R(0,"tui-notification")(1,"code"),y.OEk(2,"TuiLineDaysChart"),y.C$Y(),y.OEk(3," is used to show data of several months to simplify working with different number of days in months\n"),y.C$Y(),y.I0R(4,"p",0)(5,"tui-input-date-range",1),y.qCj("ngModelChange",(function(t){return e.data=t}))("ngModelChange",(function(t){return e.onDataChange(t)})),y.OEk(6," Data "),y.C$Y(),y.I0R(7,"tui-input-date-range",2),y.qCj("ngModelChange",(function(t){return e.show=t})),y.OEk(8," Visible range "),y.C$Y()(),y.I0R(9,"p",3),y.yuY(10,_,3,1,"span",4),y.C$Y(),y.yuY(11,U,4,6,"tui-axes",5),y.wVc(12,"async"),y.wVc(13,"labels"),y.yuY(14,H,5,2,"ng-template",null,6,y.gJz)),2&t&&(y.yG2(5),y.E7m("maxLength",e.maxLength)("ngModel",e.data),y.yG2(2),y.E7m("maxLength",e.maxLength)("ngModel",e.show),y.yG2(3),y.E7m("ngForOf",e.days),y.yG2(1),y.E7m("ngIf",y.kDX(12,6,y.kDX(13,8,e.show))))},dependencies:[a.ay,a.u_,i.ue,i._G,p.a,V.C,D.U,L.e,d.Q,S.A,E.Y,M.K,a.a,b.M,v.K,Y],styles:['.axes[_ngcontent-%COMP%]{height:12.5rem}.controls[_ngcontent-%COMP%]{display:flex}.controls[_ngcontent-%COMP%]   .b-form[_ngcontent-%COMP%]{flex:1}.legend[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.item[_ngcontent-%COMP%]{color:var(--tui-support-01);display:flex;align-items:center;margin:0 .75rem}.item[_ngcontent-%COMP%]:first-child{color:var(--tui-support-08)}.item[_ngcontent-%COMP%]:last-child{color:var(--tui-support-12)}.item[_ngcontent-%COMP%]:before{content:"";border-bottom:.125rem solid;width:1rem;margin-right:.5rem}.name[_ngcontent-%COMP%]{color:var(--tui-text-01)}.value[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}.chart[_ngcontent-%COMP%]{color:var(--tui-support-01);position:absolute;top:0;left:0;width:100%;height:100%}.chart[_ngcontent-%COMP%]:first-child{color:var(--tui-support-08)}.chart[_ngcontent-%COMP%]:last-child{color:var(--tui-support-12)}'],changeDetection:0}),(0,w.UN)([s.tuiPure],j.prototype,"getWidth",null),(0,w.UN)([s.tuiPure],j.prototype,"getDate",null),(0,w.UN)([s.tuiPure],j.prototype,"computeRange",null),(0,w.UN)([s.tuiPure],j.prototype,"computeData",null);const nt=function(){return[]};function ot(t,e){if(1&t){const t=y.KQA();y.I0R(0,"tui-doc-demo")(1,"tui-axes",4),y.wVc(2,"async"),y.wR5(3,"tui-line-days-chart",5),y.C$Y()(),y.I0R(4,"tui-doc-documentation"),y.yuY(5,B,1,0,"ng-template",6),y.qCj("documentationPropertyValueChange",(function(e){y.usT(t);const n=y.GaO();return y.CGJ(n.dots=e)})),y.yuY(6,J,6,0,"ng-template",7),y.wVc(7,"async"),y.qCj("documentationPropertyValueChange",(function(e){y.usT(t);const n=y.GaO();return y.CGJ(n.hintContent=e)})),y.yuY(8,W,1,0,"ng-template",8),y.qCj("documentationPropertyValueChange",(function(e){y.usT(t);const n=y.GaO();return y.CGJ(n.height=e)})),y.yuY(9,Q,1,0,"ng-template",9),y.qCj("documentationPropertyValueChange",(function(e){y.usT(t);const n=y.GaO();return y.CGJ(n.y=e)})),y.yuY(10,K,1,0,"ng-template",10),y.qCj("documentationPropertyValueChange",(function(e){y.usT(t);const n=y.GaO();return y.CGJ(n.smoothingFactor=e)})),y.yuY(11,Z,1,0,"ng-template",11),y.qCj("documentationPropertyValueChange",(function(e){y.usT(t);const n=y.GaO();return y.CGJ(n.value=e)})),y.yuY(12,tt,1,0,"ng-template",12),y.wVc(13,"async"),y.qCj("documentationPropertyValueChange",(function(e){y.usT(t);const n=y.GaO();return y.CGJ(n.xStringify=e)})),y.yuY(14,et,1,0,"ng-template",13),y.qCj("documentationPropertyValueChange",(function(e){y.usT(t);const n=y.GaO();return y.CGJ(n.yStringify=e)})),y.C$Y()}if(2&t){const t=y.GaO();y.yG2(1),y.E7m("axisXLabels",y.kDX(2,23,t.labels$)||y.q4q(29,nt))("horizontalLines",4)("verticalLines",3),y.yG2(2),y.E7m("dots",t.dots)("height",t.height)("hintContent",t.hintContent)("smoothingFactor",t.smoothingFactor)("value",t.value)("xStringify",t.xStringify)("y",t.y)("yStringify",t.yStringify),y.yG2(2),y.E7m("documentationPropertyValue",t.dots),y.yG2(1),y.E7m("documentationPropertyValues",y.kDX(7,25,t.hintContentVariants$))("documentationPropertyValue",t.hintContent),y.yG2(2),y.E7m("documentationPropertyValue",t.height),y.yG2(1),y.E7m("documentationPropertyValue",t.y),y.yG2(1),y.E7m("documentationPropertyValue",t.smoothingFactor),y.yG2(1),y.E7m("documentationPropertyValues",t.valueVariants)("documentationPropertyValue",t.value),y.yG2(1),y.E7m("documentationPropertyValues",y.kDX(13,27,t.xStringifyVariants$))("documentationPropertyValue",t.xStringify),y.yG2(2),y.E7m("documentationPropertyValues",t.yStringifyVariants)("documentationPropertyValue",t.yStringify)}}function at(t,e){if(1&t&&(y.I0R(0,"ol",14)(1,"li")(2,"p"),y.OEk(3," Import "),y.I0R(4,"code"),y.OEk(5,"TuiLineDaysChartModule"),y.C$Y(),y.OEk(6," into a module where you want to use our component "),y.C$Y(),y.wR5(7,"tui-doc-code",15),y.C$Y(),y.I0R(8,"li")(9,"p"),y.OEk(10,"Add to the template:"),y.C$Y(),y.wR5(11,"tui-doc-code",16),y.C$Y()()),2&t){const t=y.GaO();y.yG2(7),y.E7m("code",t.exampleModule),y.yG2(4),y.E7m("code",t.exampleHtml)}}let it=(()=>{var t;class e{constructor(t){this.months$=t,this.exampleModule=n.e(5144).then(n.t.bind(n,5144,17)),this.exampleHtml=n.e(97668).then(n.t.bind(n,97668,17)),this.example1={TypeScript:n.e(4252).then(n.t.bind(n,4252,17)),HTML:n.e(88448).then(n.t.bind(n,88448,17)),LESS:n.e(44852).then(n.t.bind(n,44852,17))},this.example2={TypeScript:n.e(41088).then(n.t.bind(n,41088,17)),HTML:n.e(70236).then(n.t.bind(n,70236,17)),LESS:n.e(83860).then(n.t.bind(n,83860,17)),"pipe.ts":n.e(17632).then(n.t.bind(n,17632,17))},this.valueVariants=[new Array(91).fill(0).reduce(((t,e,n)=>[...t,[new s.TuiDay(2020,0,1).append({day:n}),(n?t[n-1][1]:100)+20*Math.random()-10]]),[]),[[new s.TuiDay(2020,1,10),10],[new s.TuiDay(2020,1,15),150],[new s.TuiDay(2020,1,17),10],[new s.TuiDay(2020,1,20),10],[new s.TuiDay(2020,1,25),150],[new s.TuiDay(2020,1,27),10]]],this.value=this.valueVariants[0],this.labels$=this.months$.pipe((0,h.k)((t=>Array.from({length:3},((e,n)=>t[n]))))),this.yStringifyVariants=[t=>`${(10*t).toLocaleString("en-US",{maximumFractionDigits:0})} $`],this.xStringifyVariants$=this.months$.pipe((0,h.k)((t=>[({month:e,day:n})=>`${t[e]}, ${n}`]))),this.hintContentVariants$=this.months$.pipe((0,h.k)((t=>["",({$implicit:e})=>`${t[e[0].month]}, ${e[0].day}\n${(10*e[1]).toLocaleString("en-US",{maximumFractionDigits:0})} $`]))),this.yStringify=null,this.xStringify=null,this.hintContent="",this.dots=!1,this.smoothingFactor=0,this.y=0,this.height=200}}return(t=e).ɵfac=function(e){return new(e||t)(y.GI1(l.TUI_MONTHS))},t.ɵcmp=y.In1({type:t,selectors:[["example-tui-line-days-chart"]],decls:4,vars:0,consts:[["header","LineDaysChart","package","ADDON-CHARTS","type","components"],["pageTab",""],["id","base","heading","Basic",3,"content"],["id","complex","heading","Complex",3,"content","fullsize"],[1,"axes",3,"axisXLabels","horizontalLines","verticalLines"],[3,"dots","height","hintContent","smoothingFactor","value","xStringify","y","yStringify"],["documentationPropertyMode","input","documentationPropertyName","dots","documentationPropertyType","boolean",3,"documentationPropertyValue","documentationPropertyValueChange"],["documentationPropertyMode","input","documentationPropertyName","hintContent","documentationPropertyType","PolymorpheusContent",3,"documentationPropertyValues","documentationPropertyValue","documentationPropertyValueChange"],["documentationPropertyMode","input","documentationPropertyName","height","documentationPropertyType","number",3,"documentationPropertyValue","documentationPropertyValueChange"],["documentationPropertyMode","input","documentationPropertyName","y","documentationPropertyType","number",3,"documentationPropertyValue","documentationPropertyValueChange"],["documentationPropertyMode","input","documentationPropertyName","smoothingFactor","documentationPropertyType","number",3,"documentationPropertyValue","documentationPropertyValueChange"],["documentationPropertyMode","input","documentationPropertyName","value","documentationPropertyType","[TuiDay, number][]",3,"documentationPropertyValues","documentationPropertyValue","documentationPropertyValueChange"],["documentationPropertyMode","input","documentationPropertyName","xStringify","documentationPropertyType","TuiStringHandler<TuiDay> | null",3,"documentationPropertyValues","documentationPropertyValue","documentationPropertyValueChange"],["documentationPropertyMode","input","documentationPropertyName","yStringify","documentationPropertyType","TuiStringHandler<number> | null",3,"documentationPropertyValues","documentationPropertyValue","documentationPropertyValueChange"],[1,"b-demo-steps"],["filename","my.module.ts",3,"code"],["filename","my.component.html",3,"code"]],template:function(t,e){1&t&&(y.I0R(0,"tui-doc-page",0),y.yuY(1,z,6,3,"ng-template",1),y.yuY(2,ot,15,30,"ng-template",1),y.yuY(3,at,12,2,"ng-template",1),y.C$Y())},dependencies:[p.a,d.Q,g.u,f.m,C.I,P.S,x.E,O.u,T.I,G,j,a.a],styles:[".axes[_ngcontent-%COMP%]{height:12.5rem;width:45.5rem;color:#bc71c9}"],changeDetection:0}),e})(),rt=(()=>{var t;class e{}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵmod=y.a4G({type:t}),t.ɵinj=y.s3X({imports:[a.MD,i.y,u.TuiAxesModule,m.TuiSelectModule,u.TuiLineChartModule,s.TuiMapperPipeModule,l.TuiNotificationModule,s.TuiFilterPipeModule,u.TuiLineDaysChartModule,m.TuiInputDateRangeModule,c.kx,r.qQ.forChild((0,c._A)(it))]}),e})()}}]);