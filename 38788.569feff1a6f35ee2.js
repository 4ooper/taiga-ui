(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[38788],{38788:(e,n,i)=>{i.r(n),i.d(n,{default:()=>h});var t=i(36576),l=i(87742),o=i(1377),s=i(25358),f=i(76145),c=i(44046),r=i(55514),u=i(71020),a=i(63655),p=i(87560);const m=()=>({accept:"image/*"});function d(e,n){if(1&e&&(a.j41(0,"label",5),a.nrm(1,"input",6),a.k0s()),2&e){const e=a.XpG();a.R7$(),a.Y8G("formControl",e.control)}}function g(e,n){if(1&e){const e=a.RV6();a.j41(0,"tui-file",7),a.bIt("remove",(function(){a.eBV(e);const n=a.XpG();return a.Njj(n.removeFile())})),a.k0s()}if(2&e){const e=n.ngIf;a.Y8G("file",e)}}function I(e,n){if(1&e){const e=a.RV6();a.j41(0,"tui-file",8),a.bIt("remove",(function(){a.eBV(e);const n=a.XpG();return a.Njj(n.removeFile())})),a.k0s()}if(2&e){const e=n.ngIf;a.Y8G("file",e)}}function v(e,n){if(1&e){const e=a.RV6();a.j41(0,"tui-file",7),a.bIt("remove",(function(){a.eBV(e);const n=a.XpG();return a.Njj(n.removeFile())})),a.k0s()}if(2&e){const e=n.ngIf;a.Y8G("file",e)}}function F(e,n){if(1&e){const e=a.RV6();a.j41(0,"tui-file",9),a.bIt("remove",(function(){a.eBV(e);const n=a.XpG();return a.Njj(n.removeFile())})),a.k0s()}if(2&e){const e=n.ngIf;a.Y8G("file",e)}}let h=(()=>{var e;class n{constructor(){this.control=new l.MJ(null,l.k0.required),this.failedFiles$=new o.B,this.loadingFiles$=new o.B,this.loadedFiles$=this.control.valueChanges.pipe((0,s.n)((e=>this.processFile(e))))}removeFile(){this.control.setValue(null)}processFile(e){return this.failedFiles$.next(null),this.control.invalid||!e?(0,f.of)(null):(this.loadingFiles$.next(e),(0,c.O)(1e3).pipe((0,r.T)((()=>Math.random()>.5?e:(this.failedFiles$.next(e),null))),(0,u.j)((()=>this.loadingFiles$.next(null)))))}}return(e=n).ɵfac=function(n){return new(n||e)},e.ɵcmp=a.VBU({type:e,selectors:[["ng-component"]],decls:11,vars:17,consts:[["tuiInputFiles","",4,"ngIf"],[1,"tui-space_top-1"],["state","error",3,"file","remove",4,"ngIf"],[3,"file","remove",4,"ngIf"],["state","loading",3,"file","remove",4,"ngIf"],["tuiInputFiles",""],["accept","image/*","tuiInputFiles","",3,"formControl"],["state","error",3,"remove","file"],[3,"remove","file"],["state","loading",3,"remove","file"]],template:function(e,n){1&e&&(a.DNE(0,d,2,1,"label",0),a.j41(1,"tui-files",1),a.DNE(2,g,1,1,"tui-file",2),a.nI1(3,"tuiFileRejected"),a.nI1(4,"async"),a.DNE(5,I,1,1,"tui-file",3),a.nI1(6,"async"),a.DNE(7,v,1,1,"tui-file",2),a.nI1(8,"async"),a.DNE(9,F,1,1,"tui-file",4),a.nI1(10,"async"),a.k0s()),2&e&&(a.Y8G("ngIf",!n.control.value),a.R7$(2),a.Y8G("ngIf",a.bMT(4,8,a.i5U(3,5,n.control.value,a.lJ4(16,m)))),a.R7$(3),a.Y8G("ngIf",a.bMT(6,10,n.loadedFiles$)),a.R7$(2),a.Y8G("ngIf",a.bMT(8,12,n.failedFiles$)),a.R7$(2),a.Y8G("ngIf",a.bMT(10,14,n.loadingFiles$)))},dependencies:[t.Jj,t.bT,l.X1,l.me,l.BC,l.l_,p.VbL,p.Gps,p.Z1t,p.xwB,p.Xeg],encapsulation:2,changeDetection:0}),n})()}}]);