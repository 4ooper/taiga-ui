<tui-textfield
    tuiChevron
    tuiDropdownMobile
>
    <input
        placeholder="Country"
        tuiSelect
        [(ngModel)]="country"
    />

    <tui-data-list-wrapper
        *tuiTextfieldDropdown
        new
        [items]="countries$ | async | tuiFilterByInput"
    />
</tui-textfield>

<tui-textfield
    tuiChevron
    tuiDropdownMobile="Select user"
    class="tui-space_vertical-4"
    [content]="template"
>
    <input
        placeholder="Select user"
        tuiSelect
        [(ngModel)]="user"
    />
    <tui-data-list-wrapper
        *tuiTextfieldDropdown
        new
        [itemContent]="template"
        [items]="users"
    />
</tui-textfield>

<tui-textfield
    multi
    tuiChevron
    tuiDropdownMobile
    [stringify]="stringify"
    [tuiDropdownOpen]="open()"
    (tuiDropdownOpenChange)="open.set($event)"
>
    <label tuiLabel>Pick more users</label>

    <input
        tuiInputChip
        [(ngModel)]="selected"
    />
    <tui-input-chip *tuiItem />
    <ng-template
        *ngIf="users | tuiFilterByInput as items"
        let-close
        tuiTextfieldDropdown
    >
        <tui-data-list-wrapper
            new
            tuiMultiSelectGroup
            [itemContent]="template"
            [items]="items"
        />
        <button
            appearance="accent"
            size="m"
            tuiButton
            tuiDropdownButton
            type="button"
            (click)="close()"
        >
            Done
        </button>
    </ng-template>
</tui-textfield>

<tui-textfield class="tui-space_vertical-4">
    <label tuiLabel>Sum</label>
    <input
        prefix="$"
        tuiInputNumber
        [(ngModel)]="sum"
    />
</tui-textfield>

<ng-template
    #template
    let-user
>
    <span tuiCell>
        <div [tuiAvatar]="user.url"></div>
        <span tuiTitle>
            <span tuiFade>{{ user.name }}</span>
            <span tuiSubtitle>
                {{ user.balance | tuiAmount: '$' : 'left' | async }}
            </span>
        </span>
    </span>
</ng-template>
