(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[59806],{59806:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var i,a=n(97270),o=n(36576),r=n(63655),c=n(62354),s=n(42719),l=n(3948),d=n(7287),g=n(87560);function u(e,t){if(1&e){const e=r.RV6();r.j41(0,"tui-legend-item",5,0),r.bIt("click",(function(){const t=r.eBV(e).index,n=r.XpG();return r.Njj(n.onClick(t))}))("keydown.delete",(function(){const t=r.eBV(e).index,n=r.XpG();return r.Njj(n.toggle(t))})),r.nrm(2,"input",6),r.j41(3,"span"),r.EFF(4),r.nI1(5,"tuiAmount"),r.nI1(6,"async"),r.k0s(),r.j41(7,"tui-icon",7),r.bIt("click.stop",(function(){const t=r.eBV(e).index,n=r.XpG();return r.Njj(n.toggle(t))})),r.k0s()()}if(2&e){const e=t.$implicit,n=t.index,i=r.sdS(1),a=r.XpG();r.Y8G("color",`var(--tui-chart-categorical-0${n})`)("disabled",!a.isEnabled(n))("text",e),r.R7$(2),r.Y8G("checked",!i.disabled),r.R7$(2),r.JRh(r.bMT(6,10,r.i5U(5,7,a.data[n]||0,"RUB"))),r.R7$(3),r.AVh("disable_rotated",i.disabled)}}class m{constructor(){this.alerts=(0,r.WQX)(d.QJZ),this.enabled=new Array(5).fill(!0),this.data=[13769,12367,10172,3018,2592],this.sum=(0,l.yQX)(...this.data),this.labels=["Axes","Faxes","Taxes","Saxes","Other"]}get value(){return this.getValue(this.data,this.enabled)}isEnabled(e){return this.enabled[e]}toggle(e){this.enabled=this.enabled.map(((t,n)=>n===e?!t:t))}onClick(e){this.isEnabled(e)?this.alerts.open(`Category spending: ${(0,d.d1t)(this.data[e]??0)} ₽`,{label:this.labels[e]}).subscribe():this.toggle(e)}getValue(e,t){return e.map(((e,n)=>t[n]?e:0))}}(i=m).ɵfac=function(e){return new(e||i)},i.ɵcmp=r.VBU({type:i,selectors:[["ng-component"]],decls:6,vars:2,consts:[["item",""],[1,"wrapper"],["size","s",1,"chart",3,"value"],[1,"legend"],["class","item",3,"color","disabled","text","click","keydown.delete",4,"ngFor","ngForOf"],[1,"item",3,"click","keydown.delete","color","disabled","text"],["size","s","tuiCheckbox","","type","checkbox",3,"checked"],["icon","@tui.x",1,"disable",3,"click.stop"]],template:function(e,t){1&e&&(r.j41(0,"tui-notification"),r.EFF(1," In case you need to be able to toggle a category by separate action, for example, if clicking on it should expand it for more details\n"),r.k0s(),r.j41(2,"div",1),r.nrm(3,"tui-ring-chart",2),r.j41(4,"div",3),r.DNE(5,u,8,12,"tui-legend-item",4),r.k0s()()),2&e&&(r.R7$(3),r.Y8G("value",t.value),r.R7$(2),r.Y8G("ngForOf",t.labels))},dependencies:[o.Jj,o.Sq,s.fT,g.GYS,d.qo5,c.dV,d.wSS,c.Db],styles:["[_nghost-%COMP%]{--tui-chart-categorical-00: #c779d0;--tui-chart-categorical-01: #feac5e;--tui-chart-categorical-02: #ff5f6d;--tui-chart-categorical-03: #4bc0c8;--tui-chart-categorical-04: #9795cd}.chart[_ngcontent-%COMP%]{pointer-events:none}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;margin-block-start:1rem}@media screen and (max-width: 47.9625em){.wrapper[_ngcontent-%COMP%]{flex-direction:column}}.disable[_ngcontent-%COMP%]{transition-property:transform,color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;margin-inline-start:.5rem;will-change:transform;color:var(--tui-text-secondary);pointer-events:auto}.disable[_ngcontent-%COMP%]:before{font-size:1rem}.disable[_ngcontent-%COMP%]:hover{color:var(--tui-text-primary)}.disable_rotated[_ngcontent-%COMP%]{transform:rotate(45deg)}.legend[_ngcontent-%COMP%]{margin:0 0 0 2rem;justify-content:center}@media screen and (max-width: 47.9625em){.legend[_ngcontent-%COMP%]{margin:2rem 0 0}}.item[_ngcontent-%COMP%]{margin:0 .5rem .75rem 0}"],changeDetection:0}),(0,a.Cg)([l.PEb],m.prototype,"getValue",null)}}]);