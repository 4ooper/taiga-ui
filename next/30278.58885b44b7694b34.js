(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[30278],{30278:(e,t,o)=>{o.r(t),o.d(t,{default:()=>T});var i=o(58578),n=o(35548),a=o(54795),u=o(39050),r=o(73798),s=o(39527),c=o(73692),g=o(13591),l=o(29963),d=o(40050);let m=(()=>{var e;class t{constructor(){this.accordion=(0,n.f3M)(c.z0M,{self:!0}),this.el=(0,s.AG8)(),this.routerScroll$=(0,n.f3M)(u.F0).events.pipe((0,g.h)((e=>e instanceof u.Xs))),this.cdr=(0,n.f3M)(n.sBO),(0,l.a)([this.routerScroll$,(0,n.f3M)(r.V1).pipe((0,g.h)(Boolean),(0,d.q)(1))]).pipe((0,a.sL)(),(0,g.h)((([{anchor:e}])=>e===this.el.id))).subscribe((()=>{this.accordion.open=!0,this.cdr.markForCheck()}))}}return(e=t).ɵfac=function(t){return new(t||e)},e.ɵdir=n.lG2({type:e,selectors:[["","openOnRouteFragment",""]],standalone:!0}),t})();var p=o(39628),Z=o(42436);function _(e,t){1&e&&(n.TgZ(0,"div")(1,"p"),n._uU(2," We don't include any code formatting in our schematics on purpose. Otherwise, it will drastically slow down the overall process of schematics execution. So, "),n.TgZ(3,"strong"),n._uU(4,"use well-optimized prettier/eslint rules and power of your IDEs"),n.qZA(),n._uU(5," . "),n.qZA(),n.TgZ(6,"p")(7,"u"),n._uU(8,"If you are WebStorm user."),n.qZA(),n._uU(9," Just make right click on the root folder with the codebase of your recently migrated application. Choose "),n.TgZ(10,"a",17)(11,"i"),n._uU(12,'"Optimize imports"'),n.qZA()(),n._uU(13," from the context menu. It will automatically remove all unused imports across all the files in that folder. "),n.qZA(),n.TgZ(14,"p")(15,"u"),n._uU(16,"If you are Visual Studio Code user."),n.qZA(),n._uU(17," Use an "),n.TgZ(18,"a",18),n._uU(19," Folder source actions "),n.qZA(),n._uU(20," extension to trigger built-in "),n.TgZ(21,"a",19)(22,"i"),n._uU(23,"Organize Imports"),n.qZA()(),n._uU(24," action in all files recursively in the root folder with the codebase of your recently migrated application. "),n.qZA()())}function h(e,t){if(1&e&&(n.TgZ(0,"div"),n._uU(1," Taiga UI depends on many other "),n.TgZ(2,"a",20),n._uU(3," Taiga Family packages "),n.qZA(),n._uU(4," . "),n.TgZ(5,"p"),n._uU(6," Yarn and NPM with enabled "),n.TgZ(7,"code"),n._uU(8,"legacy-peer-deps"),n.qZA(),n._uU(9," config do not automatically install transitive peer dependencies. It means that you should manage them "),n.TgZ(10,"strong"),n._uU(11,"manually"),n.qZA(),n._uU(12," . Explore "),n.TgZ(13,"code"),n._uU(14,"package.json"),n.qZA(),n._uU(15," of every used Taiga UI package. Find their "),n.TgZ(16,"code"),n._uU(17,"peerDependencies"),n.qZA(),n._uU(18," and ensure that they are installed and their versions are compatible with constraints from Taiga libraries. "),n.qZA()()),2&e){const e=n.oxw();n.xp6(2),n.Q6J("routerLink",e.pages.Related)}}function U(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1," Command "),n.TgZ(2,"code"),n._uU(3,"ng migrate"),n.qZA(),n._uU(4," has known "),n.TgZ(5,"a",21),n._uU(6," issue "),n.qZA(),n._uU(7," . Just run "),n.TgZ(8,"code"),n._uU(9,"npm install"),n.qZA(),n._uU(10," again and run "),n._UZ(11,"tui-doc-code",22),n.qZA())}function f(e,t){if(1&e&&(n.TgZ(0,"div")(1,"ol",23)(2,"li",2),n._uU(3," Manually update all Taiga UI's packages to "),n.TgZ(4,"code"),n._uU(5,"v4"),n.qZA(),n._uU(6," (i.e. just change versions inside your "),n.TgZ(7,"code"),n._uU(8,"package.json"),n.qZA(),n._uU(9," by yourself without any console commands and then run "),n.TgZ(10,"code"),n._uU(11,"npm install"),n.qZA(),n._uU(12," ). "),n.qZA(),n.TgZ(13,"li",2),n._uU(14," Check that "),n.TgZ(15,"code"),n._uU(16,"node_modules/@taiga-ui/cdk/package.json"),n.qZA(),n._uU(17," contains the 4th major version "),n.qZA(),n.TgZ(18,"li",2),n._uU(19," Execute: "),n._UZ(20,"tui-doc-code",24),n._uU(21," or "),n._UZ(22,"tui-doc-code",25),n.qZA()()()),2&e){const e=n.oxw();n.xp6(22),n.Q6J("code",e.manuallyTriggerNxMigration)}}const T=(()=>{var e;class t{constructor(){this.pages=i.o,this.manuallyTriggerNxMigration=o.e(30560).then(o.t.bind(o,30560,17))}}return(e=t).ɵfac=function(t){return new(t||e)},e.ɵcmp=n.Xpm({type:e,selectors:[["ng-component"]],standalone:!0,features:[n.jDz],decls:147,vars:0,consts:[["header","Migration Guide (v3 -> v4)"],[1,"tui-list"],[1,"tui-list__item"],["href","https://angular.dev/update-guide","target","_blank","tuiLink",""],["href","https://docs.npmjs.com/cli/v7/using-npm/config#legacy-peer-deps","target","_blank","tuiLink",""],[1,"tui-space_top-2"],["fragment","manual-install-transitive-peer-deps","routerLink",".","tuiLink",""],["href","https://www.npmjs.com/package/@taiga-ui/cdk/v/v3-lts","target","_blank","tuiLink",""],["code","ng update @taiga-ui/cdk"],["code","nx migrate @taiga-ui/cdk"],["href","https://github.com/taiga-family/taiga-ui/tree/main/projects/legacy","target","_blank","tuiLink",""],["id","unused-imports","openOnRouteFragment",""],[1,"wrap"],[4,"tuiAccordionItemContent"],["id","manual-install-transitive-peer-deps","openOnRouteFragment",""],["id","nx-legacy-peer-deps-bug","openOnRouteFragment",""],["id","manual-run-schematics","openOnRouteFragment",""],["href","https://blog.jetbrains.com/webstorm/2018/05/optimize-imports-in-webstorm/#optimize-all-imports","target","_blank","tuiLink",""],["href","https://marketplace.visualstudio.com/items?itemName=bierner.folder-source-actions","target","_blank","tuiLink",""],["href","https://code.visualstudio.com/docs/languages/javascript#_organize-imports","target","_blank","tuiLink",""],["tuiLink","",3,"routerLink"],["href","https://github.com/nrwl/nx/issues/26675","target","_blank","tuiLink",""],["code","npm_config_legacy_peer_deps=false nx migrate --run-migrations",1,"tui-space_top-2"],[1,"tui-list","tui-list_ordered"],["code","ng update @taiga-ui/cdk --migrate-only --from=3 --to=4"],[3,"code"]],template:function(e,t){1&e&&(n.TgZ(0,"tui-doc-page",0)(1,"section")(2,"h2"),n._uU(3,"Prerequisites"),n.qZA(),n.TgZ(4,"ul",1)(5,"li",2)(6,"a",3),n._uU(7," Update Angular "),n.qZA(),n._uU(8," version to "),n.TgZ(9,"strong"),n._uU(10,"v16"),n.qZA(),n._uU(11," or later. "),n.qZA(),n.TgZ(12,"li",2),n._uU(13," Use npm "),n.TgZ(14,"strong"),n._uU(15,"v7"),n.qZA(),n._uU(16," or later. Don't use "),n.TgZ(17,"a",4),n._uU(18," legacy-peer-deps "),n.qZA(),n._uU(19," in your "),n.TgZ(20,"code"),n._uU(21,".npmrc"),n.qZA(),n._uU(22," -file or with "),n.TgZ(23,"code"),n._uU(24,"npm install"),n.qZA(),n._uU(25," command. "),n.TgZ(26,"tui-notification",5)(27,"div"),n._uU(28," If you use Yarn or cannot get rid of "),n.TgZ(29,"code"),n._uU(30,"legacy-peer-deps"),n.qZA(),n._uU(31," flag – this step cannot be skipped, but you should be ready to make some "),n.TgZ(32,"strong"),n._uU(33,"additional manual efforts"),n.qZA(),n._uU(34," to resolve all transitive peer dependencies. "),n.TgZ(35,"p"),n._uU(36," See "),n.TgZ(37,"a",6),n._uU(38," this guide "),n.qZA(),n._uU(39," from "),n.TgZ(40,"strong"),n._uU(41,"Troubleshooting"),n.qZA(),n._uU(42," section. "),n.qZA()()()(),n.TgZ(43,"li",2),n._uU(44," Update all Taiga UI packages to the latest "),n.TgZ(45,"a",7),n._uU(46," v3 "),n.qZA(),n._uU(47," version. "),n.qZA()()(),n.TgZ(48,"section")(49,"h2"),n._uU(50,"Run migration schematics"),n.qZA(),n.TgZ(51,"p"),n._uU(52," This release introduces a lot of breaking changes. We put in a lot of effort to make updating easier for you. We wrote a bunch of schematics that automatically go through your entire project and fix most of the breaking changes. "),n.qZA(),n.TgZ(53,"h3"),n._uU(54,"Angular CLI"),n.qZA(),n._UZ(55,"tui-doc-code",8),n.TgZ(56,"h3"),n._uU(57,"Nx CLI"),n.qZA(),n._UZ(58,"tui-doc-code",9),n.qZA(),n.TgZ(59,"section")(60,"h2"),n._uU(61,"Some final manual steps"),n.qZA(),n.TgZ(62,"ul",1)(63,"li",2),n._uU(64," Review all changed code lines. Some of them contains new code comments (something like "),n.TgZ(65,"code"),n._uU(66,"// TODO: (Taiga UI migration)"),n.qZA(),n._uU(67," ). In most cases these comments contains instructions how to manually migrate some deleted entities by new alternative. "),n.qZA(),n.TgZ(68,"li",2),n._uU(69," You can find out that your codebase now contains some imports from "),n.TgZ(70,"code")(71,"a",10),n._uU(72," @taiga-ui/legacy "),n.qZA()(),n._uU(73," . This package is a transitional state for many outdated entities before their full removal. Everything you find inside this package in the fourth major release will be removed in the fifth one. So, you can just continue to use them for a while. However, some of those components already have modern alternatives – they will be marked by comment with "),n.TgZ(74,"code"),n._uU(75,"@deprecated"),n.qZA(),n._uU(76," tag (most IDEs displays the such entities as stricken-through). We strongly recommend to replace them by new alternatives as soon as possible! "),n.qZA()()(),n.TgZ(77,"section")(78,"h2"),n._uU(79,"Troubleshooting"),n.qZA(),n.TgZ(80,"tui-accordion")(81,"tui-accordion-item",11)(82,"div",12),n._uU(83," After running of migration schematics, I have a large amount of TypeScript errors "),n.TgZ(84,"code"),n._uU(85,"TS6133: <entityName> is declared but its value is never read."),n.qZA()(),n.YNc(86,_,25,0,"div",13),n.qZA()(),n.TgZ(87,"tui-accordion")(88,"tui-accordion-item",14)(89,"div",12)(90,"p"),n._uU(91," I use Yarn or cannot get rid of "),n.TgZ(92,"code"),n._uU(93,"legacy-peer-deps"),n.qZA(),n._uU(94," . I need a workaround. "),n.qZA(),n._UZ(95,"hr"),n.TgZ(96,"p"),n._uU(97," I ran "),n.TgZ(98,"code"),n._uU(99,"npm install"),n.qZA(),n._uU(100," and got "),n.TgZ(101,"code"),n._uU(102,"Could not resolve dependency"),n.qZA(),n._uU(103," (for "),n.TgZ(104,"code"),n._uU(105,"ng-web-apis"),n.qZA(),n._uU(106," , "),n.TgZ(107,"code"),n._uU(108,"maskito"),n.qZA(),n._uU(109," , "),n.TgZ(110,"code"),n._uU(111,"ng-polymorpheus"),n.qZA(),n._uU(112," or "),n.TgZ(113,"code"),n._uU(114,"ng-event-plugins"),n.qZA(),n._uU(115," packages). "),n.qZA()(),n.YNc(116,h,19,1,"div",13),n.qZA()(),n.TgZ(117,"tui-accordion")(118,"tui-accordion-item",15)(119,"div",12)(120,"p"),n._uU(121," I ran "),n.TgZ(122,"code"),n._uU(123,"nx migrate --run-migrations"),n.qZA(),n._uU(124," and got "),n.TgZ(125,"code"),n._uU(126,"Cannot find module 'ts-morph'"),n.qZA(),n._uU(127," error. "),n.qZA(),n.TgZ(128,"p"),n._uU(129," But my project uses NPM "),n.TgZ(130,"strong"),n._uU(131,"without"),n.qZA(),n.TgZ(132,"code"),n._uU(133,"legacy-peer-deps"),n.qZA(),n._uU(134," ! "),n.qZA()(),n.YNc(135,U,12,0,"div",13),n.qZA()(),n.TgZ(136,"tui-accordion")(137,"tui-accordion-item",16)(138,"p",12),n._uU(139," I still has some problems with running basic version of "),n.TgZ(140,"code"),n._uU(141,"ng update"),n.qZA(),n._uU(142," / "),n.TgZ(143,"code"),n._uU(144,"ng migrate"),n.qZA(),n._uU(145," command. I need an approach to execute all schematics manually. "),n.qZA(),n.YNc(146,f,23,1,"div",13),n.qZA()()()())},dependencies:[p.D_,p.xR,u.rH,Z.lI3,Z.tK9,c.z0M,c.tRX,c.Z0K,m],styles:["tui-doc-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]:not(:last-child){margin-bottom:5rem}.wrap[_ngcontent-%COMP%]{white-space:normal}tui-accordion[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}tui-accordion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{margin-top:0}tui-accordion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}"],changeDetection:0}),t})()}}]);