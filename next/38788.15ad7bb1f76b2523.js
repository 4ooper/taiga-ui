(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[38788],{38788:(e,i,t)=>{t.r(i),t.d(i,{default:()=>$});var n=t(81359),l=t(87742),o=t(1377),s=t(25358),r=t(76145),c=t(44046),u=t(55514),a=t(71020),f=t(37550),p=t(41987);const d=()=>({accept:"image/*"});function m(e,i){if(1&e&&(f.j41(0,"label",0),f.nrm(1,"input",5),f.k0s()),2&e){const e=f.XpG();f.R7$(),f.Y8G("formControl",e.control)}}function v(e,i){if(1&e){const e=f.RV6();f.j41(0,"tui-file",6),f.bIt("remove",(function(){f.eBV(e);const i=f.XpG();return f.Njj(i.removeFile())})),f.k0s()}2&e&&f.Y8G("file",i)}function F(e,i){if(1&e){const e=f.RV6();f.j41(0,"tui-file",7),f.bIt("remove",(function(){f.eBV(e);const i=f.XpG();return f.Njj(i.removeFile())})),f.k0s()}2&e&&f.Y8G("file",i)}function h(e,i){if(1&e){const e=f.RV6();f.j41(0,"tui-file",6),f.bIt("remove",(function(){f.eBV(e);const i=f.XpG();return f.Njj(i.removeFile())})),f.k0s()}2&e&&f.Y8G("file",i)}function j(e,i){if(1&e){const e=f.RV6();f.j41(0,"tui-file",8),f.bIt("remove",(function(){f.eBV(e);const i=f.XpG();return f.Njj(i.removeFile())})),f.k0s()}2&e&&f.Y8G("file",i)}let $=(()=>{var e;class i{constructor(){this.control=new l.MJ(null,l.k0.required),this.failedFiles$=new o.B,this.loadingFiles$=new o.B,this.loadedFiles$=this.control.valueChanges.pipe((0,s.n)((e=>this.processFile(e))))}removeFile(){this.control.setValue(null)}processFile(e){return this.failedFiles$.next(null),this.control.invalid||!e?(0,r.of)(null):(this.loadingFiles$.next(e),(0,c.O)(1e3).pipe((0,u.T)((()=>Math.random()>.5?e:(this.failedFiles$.next(e),null))),(0,a.j)((()=>this.loadingFiles$.next(null)))))}}return(e=i).ɵfac=function(i){return new(i||e)},e.ɵcmp=f.VBU({type:e,selectors:[["ng-component"]],decls:11,vars:17,consts:[["tuiInputFiles",""],[1,"tui-space_top-1"],["state","error",3,"file"],[3,"file"],["state","loading",3,"file"],["accept","image/*","tuiInputFiles","",3,"formControl"],["state","error",3,"remove","file"],[3,"remove","file"],["state","loading",3,"remove","file"]],template:function(e,i){if(1&e&&(f.DNE(0,m,2,1,"label",0),f.j41(1,"tui-files",1),f.DNE(2,v,1,1,"tui-file",2),f.nI1(3,"tuiFileRejected"),f.nI1(4,"async"),f.DNE(5,F,1,1,"tui-file",3),f.nI1(6,"async"),f.DNE(7,h,1,1,"tui-file",2),f.nI1(8,"async"),f.DNE(9,j,1,1,"tui-file",4),f.nI1(10,"async"),f.k0s()),2&e){let e,t,n,l;f.vxM(i.control.value?-1:0),f.R7$(2),f.vxM((e=f.bMT(4,8,f.i5U(3,5,i.control.value,f.lJ4(16,d))))?2:-1,e),f.R7$(3),f.vxM((t=f.bMT(6,10,i.loadedFiles$))?5:-1,t),f.R7$(2),f.vxM((n=f.bMT(8,12,i.failedFiles$))?7:-1,n),f.R7$(2),f.vxM((l=f.bMT(10,14,i.loadingFiles$))?9:-1,l)}},dependencies:[n.Jj,l.X1,l.me,l.BC,l.l_,p.VbL,p.Gps,p.Z1t,p.xwB,p.Xeg],encapsulation:2,changeDetection:0}),i})()}}]);