(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[71857],{71857:(t,e,n)=>{n.r(e),n.d(e,{default:()=>w});var s,i=n(97270),a=n(16727),o=n(87742),r=n(42776),l=n(19908),u=n(7826),c=n(78568),h=n(1377),p=n(85122),f=n(25358),d=n(55514),g=n(60149),m=n(64204),$=n(54148),b=n(76145),v=n(14759),C=n(75407),N=n(56366),F=n(7437),k=n(17478),j=n(25673);function E(t,e){if(1&t){const t=C.RV6();C.j41(0,"button",6),C.bIt("click",(function(){const e=C.eBV(t).$implicit,n=C.XpG(4);return C.Njj(n.onClick(e))})),C.j41(1,"tui-avatar",7),C.EFF(2),C.k0s(),C.j41(3,"span",8)(4,"span"),C.EFF(5),C.k0s(),C.j41(6,"span",9),C.EFF(7),C.k0s()()()}if(2&t){const t=e.$implicit;C.Y8G("disabled",t.disabled)("value",t.phone),C.R7$(1),C.Y8G("src",t.avatarUrl),C.R7$(1),C.SpI(" ",t.firstName," "),C.R7$(3),C.Lme("",t.firstName," ",t.lastName,""),C.R7$(2),C.JRh(t.phone)}}function G(t,e){if(1&t&&(C.j41(0,"tui-data-list"),C.DNE(1,E,8,7,"button",5),C.k0s()),2&t){const t=C.XpG(2).tuiLet;C.R7$(1),C.Y8G("ngForOf",t)}}function I(t,e){1&t&&(C.qex(0),C.DNE(1,G,2,1,"tui-data-list",4),C.bVm())}function M(t,e){if(1&t){const t=C.RV6();C.j41(0,"tui-input-phone",2),C.bIt("ngModelChange",(function(e){C.eBV(t);const n=C.XpG();return C.Njj(n.value=e)}))("searchChange",(function(e){C.eBV(t);const n=C.XpG();return C.Njj(n.onSearch(e))})),C.EFF(1),C.nI1(2,"async"),C.DNE(3,I,2,0,"ng-container",3),C.k0s()}if(2&t){const t=e.tuiLet,n=C.XpG(),s=C.sdS(3);C.Y8G("allowText",!0)("tuiTextfieldCustomContent",s)("ngModel",n.value),C.R7$(1),C.SpI(" ",C.bMT(2,5,n.placeholder$)," "),C.R7$(2),C.Y8G("ngIf",null==t?null:t.length)}}function x(t,e){if(1&t&&(C.j41(0,"tui-avatar",11),C.EFF(1),C.k0s()),2&t){const t=e.ngIf;C.Y8G("src",t.avatarUrl),C.R7$(1),C.SpI(" ",t.firstName," ")}}function R(t,e){if(1&t&&(C.DNE(0,x,2,2,"tui-avatar",10),C.nI1(1,"async")),2&t){const t=C.XpG();C.Y8G("ngIf",C.bMT(1,1,t.user$))}}class T{constructor(t,e,n,s=null,i=!1){this.firstName=t,this.lastName=e,this.phone=n,this.avatarUrl=s,this.disabled=i}toString(){return`${this.firstName} ${this.lastName}`}}const y=[new T("Roman","Sedov","+75678901234","https://avatars.githubusercontent.com/u/10106368"),new T("Alex","Inkin","+75678901234",r.mY`/images/avatar.jpg`)];class S{constructor(){this.search$=new h.B,this.selected$=new h.B,this.value="",this.user$=(0,p.h)(this.selected$,this.search$.pipe((0,f.n)((t=>this.request(t).pipe((0,d.T)((e=>this.isFullMatch(e,t)?e[0]:null))))))).pipe((0,g.M)((t=>{t&&(this.value=t.phone)}))),this.items$=this.search$.pipe((0,m.Z)(""),(0,f.n)((t=>this.request(t).pipe((0,d.T)((e=>this.isFullMatch(e,t)?[]:e)))))),this.placeholder$=(0,$.z)([this.user$,this.search$]).pipe((0,d.T)((([t,e])=>t||this.getPlaceholder(e))),(0,m.Z)("Phone number or name"))}onSearch(t){this.search$.next(t)}onClick(t){this.selected$.next(t)}request(t){return(0,b.of)(y.filter((e=>(0,l.Gb0)(e,t)||(0,l.Gb0)(e.phone,t)))).pipe((0,v.u)())}getPlaceholder(t){return t?t.startsWith("+")?"Phone number":"Name":"Phone number or name"}isFullMatch(t,e){return 1===t.length&&(String(t[0])===e||t[0]?.phone===e)}}(s=S).ɵfac=function(t){return new(t||s)},s.ɵcmp=C.VBU({type:s,selectors:[["ng-component"]],standalone:!0,exportAs:"Example3",features:[C.aNF],decls:6,vars:4,consts:[[3,"allowText","tuiTextfieldCustomContent","ngModel","ngModelChange","searchChange",4,"tuiLet"],["avatar",""],[3,"allowText","tuiTextfieldCustomContent","ngModel","ngModelChange","searchChange"],[4,"ngIf"],[4,"tuiDataList"],["tuiOption","","type","button",3,"disabled","value","click",4,"ngFor","ngForOf"],["tuiOption","","type","button",3,"disabled","value","click"],["size","s",1,"tui-space_right-3",3,"src"],[1,"user"],[1,"phone"],["size","s",3,"src",4,"ngIf"],["size","s",3,"src"]],template:function(t,e){1&t&&(C.DNE(0,M,4,7,"tui-input-phone",0),C.nI1(1,"async"),C.DNE(2,R,2,3,"ng-template",null,1,C.C5r),C.j41(4,"p"),C.EFF(5),C.k0s()),2&t&&(C.Y8G("tuiLet",C.bMT(1,2,e.items$)),C.R7$(5),C.SpI("Value: ",e.value,""))},dependencies:[a.Jj,o.YN,o.BC,o.vS,a.Sq,a.bT,u.Elh,N.uEM,N.WX9,N.aOZ,c.NyH,F.e,k.y,l.cOJ,c.CNI,j.R],styles:[".user[_ngcontent-%COMP%]{margin-right:auto}.phone[_ngcontent-%COMP%]{display:block;font:var(--tui-font-text-s);color:var(--tui-text-tertiary)}"],changeDetection:0}),(0,i.Cg)([l.PEb],S.prototype,"request",null);const w=S}}]);