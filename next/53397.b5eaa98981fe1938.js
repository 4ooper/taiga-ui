(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[53397],{53397:(t,e,n)=>{n.r(e),n.d(e,{default:()=>S});var i,s=n(97270),a=n(81359),o=n(87742),l=n(68126),u=n(3948),r=n(87560),c=n(14027),h=n(1377),p=n(85122),d=n(25358),f=n(55514),m=n(60149),g=n(64204),v=n(54148),$=n(76145),b=n(14759),C=n(37550),N=n(7287),M=n(7437),k=n(17478),j=n(25673);function x(t,e){if(1&t){const t=C.RV6();C.j41(0,"button",5),C.bIt("click",(function(){const e=C.eBV(t).$implicit,n=C.XpG(4);return C.Njj(n.onClick(e))})),C.j41(1,"span",6),C.EFF(2),C.k0s(),C.j41(3,"span",7)(4,"span"),C.EFF(5),C.k0s(),C.j41(6,"span",8),C.EFF(7),C.k0s()()()}if(2&t){const t=e.$implicit;C.Y8G("disabled",t.disabled)("value",t.phone),C.R7$(),C.Y8G("tuiAvatar",t.avatarUrl),C.R7$(),C.SpI(" ",t.firstName," "),C.R7$(3),C.Lme("",t.firstName," ",t.lastName,""),C.R7$(2),C.JRh(t.phone)}}function F(t,e){if(1&t&&(C.j41(0,"tui-data-list"),C.Z7z(1,x,8,7,"button",4,C.fX1),C.k0s()),2&t){const t=C.XpG(2).tuiLet;C.R7$(),C.Dyx(t)}}function R(t,e){1&t&&C.DNE(0,F,3,0,"tui-data-list",3)}function E(t,e){if(1&t){const t=C.RV6();C.j41(0,"tui-input-phone",2),C.mxI("ngModelChange",(function(e){C.eBV(t);const n=C.XpG();return C.DH7(n.value,e)||(n.value=e),C.Njj(e)})),C.bIt("searchChange",(function(e){C.eBV(t);const n=C.XpG();return C.Njj(n.onSearch(e))})),C.EFF(1),C.nI1(2,"async"),C.DNE(3,R,1,0,"tui-data-list"),C.k0s()}if(2&t){const t=e.tuiLet,n=C.XpG(),i=C.sdS(3);C.Y8G("allowText",!0)("tuiTextfieldCustomContent",i),C.R50("ngModel",n.value),C.R7$(),C.SpI(" ",C.bMT(2,5,n.placeholder$)," "),C.R7$(2),C.vxM(null!=t&&t.length?3:-1)}}function y(t,e){if(1&t&&(C.j41(0,"div",9),C.EFF(1),C.k0s()),2&t){const t=e;C.Y8G("tuiAvatar",t.avatarUrl),C.R7$(),C.SpI(" ",t.firstName," ")}}function G(t,e){if(1&t&&(C.DNE(0,y,2,2,"div",9),C.nI1(1,"async")),2&t){let t;const e=C.XpG();C.vxM((t=C.bMT(1,1,e.user$))?0:-1,t)}}class I{constructor(t,e,n,i=null,s=!1){this.firstName=t,this.lastName=e,this.phone=n,this.avatarUrl=i,this.disabled=s}toString(){return`${this.firstName} ${this.lastName}`}}const T=[new I("Roman","Sedov","+75678901234","https://avatars.githubusercontent.com/u/10106368"),new I("Alex","Inkin","+75678901234",l.mY`/images/avatar.jpg`)];class S{constructor(){this.search$=new h.B,this.selected$=new h.B,this.value="",this.user$=(0,p.h)(this.selected$,this.search$.pipe((0,d.n)((t=>this.request(t).pipe((0,f.T)((e=>this.isFullMatch(e,t)?e[0]:null))))))).pipe((0,m.M)((t=>{t&&(this.value=t.phone)}))),this.items$=this.search$.pipe((0,g.Z)(""),(0,d.n)((t=>this.request(t).pipe((0,f.T)((e=>this.isFullMatch(e,t)?[]:e)))))),this.placeholder$=(0,v.z)([this.user$,this.search$]).pipe((0,f.T)((([t,e])=>t||this.getPlaceholder(e))),(0,g.Z)("Phone number or name"))}onSearch(t){this.search$.next(t)}onClick(t){this.selected$.next(t)}request(t){return(0,$.of)(T.filter((e=>(0,u.Gb0)(e,t)||(0,u.Gb0)(e.phone,t)))).pipe((0,b.u)())}getPlaceholder(t){return t?t.startsWith("+")?"Phone number":"Name":"Phone number or name"}isFullMatch(t,e){return 1===t.length&&(String(t[0])===e||t[0]?.phone===e)}}(i=S).ɵfac=function(t){return new(t||i)},i.ɵcmp=C.VBU({type:i,selectors:[["ng-component"]],decls:6,vars:4,consts:[["avatar",""],[3,"allowText","tuiTextfieldCustomContent","ngModel","ngModelChange","searchChange",4,"tuiLet"],[3,"ngModelChange","searchChange","allowText","tuiTextfieldCustomContent","ngModel"],[4,"tuiDataList"],["tuiOption","","type","button",3,"disabled","value"],["tuiOption","","type","button",3,"click","disabled","value"],["size","s",1,"tui-space_right-3",3,"tuiAvatar"],[1,"user"],[1,"phone"],["size","s",3,"tuiAvatar"]],template:function(t,e){1&t&&(C.DNE(0,E,4,7,"tui-input-phone",1),C.nI1(1,"async"),C.DNE(2,G,2,3,"ng-template",null,0,C.C5r),C.j41(4,"p"),C.EFF(5),C.k0s()),2&t&&(C.Y8G("tuiLet",C.bMT(1,2,e.items$)),C.R7$(5),C.SpI("Value: ",e.value,""))},dependencies:[a.Jj,o.YN,o.BC,o.vS,r.Elh,N.uEM,N.WX9,N.aOZ,c.NyH,M.e,k.y,u.cOJ,c.CNI,j.R],styles:[".user[_ngcontent-%COMP%]{margin-inline-end:auto}.phone[_ngcontent-%COMP%]{display:block;font:var(--tui-font-text-s);color:var(--tui-text-tertiary)}"],changeDetection:0}),(0,s.Cg)([u.PEb],S.prototype,"request",null)}}]);