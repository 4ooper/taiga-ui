(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[44905],{44905:(t,e,n)=>{n.r(e),n.d(e,{default:()=>J});var i,s=n(84911),a=n(4594),o=n(66094),u=n(9627),c=n(7233),l=n(75331),r=n(2004),h=n(13448),p=n(19403),g=n(275),f=n(51160),d=n(64870),m=n(905),x=n(29963),C=n(97318),T=n(89407),v=n(35548),w=n(38252),A=n(63142),$=n(53958),Z=n(12569);function M(t,e){if(1&t){const t=v.EpF();v.TgZ(0,"button",6),v.NdJ("click",(function(){const e=v.CHM(t).$implicit,n=v.oxw(4);return v.KtG(n.onClick(e))})),v.TgZ(1,"tui-avatar",7),v._uU(2),v.qZA(),v.TgZ(3,"span",8)(4,"span"),v._uU(5),v.qZA(),v.TgZ(6,"span",9),v._uU(7),v.qZA()()()}if(2&t){const t=e.$implicit;v.Q6J("disabled",t.disabled)("value",t.phone),v.xp6(1),v.Q6J("src",t.avatarUrl),v.xp6(1),v.hij(" ",t.firstName," "),v.xp6(3),v.AsE("",t.firstName," ",t.lastName,""),v.xp6(2),v.Oqu(t.phone)}}function N(t,e){if(1&t&&(v.TgZ(0,"tui-data-list"),v.YNc(1,M,8,7,"button",5),v.qZA()),2&t){const t=v.oxw(2).tuiLet;v.xp6(1),v.Q6J("ngForOf",t)}}function U(t,e){1&t&&(v.ynx(0),v.YNc(1,N,2,1,"tui-data-list",4),v.BQk())}function b(t,e){if(1&t){const t=v.EpF();v.TgZ(0,"tui-input-phone",2),v.NdJ("ngModelChange",(function(e){v.CHM(t);const n=v.oxw();return v.KtG(n.value=e)}))("searchChange",(function(e){v.CHM(t);const n=v.oxw();return v.KtG(n.onSearch(e))})),v._uU(1),v.ALo(2,"async"),v.YNc(3,U,2,0,"ng-container",3),v.qZA()}if(2&t){const t=e.tuiLet,n=v.oxw(),i=v.MAs(3);v.Q6J("allowText",!0)("tuiTextfieldCustomContent",i)("ngModel",n.value),v.xp6(1),v.hij(" ",v.lcZ(2,5,n.placeholder$)," "),v.xp6(2),v.Q6J("ngIf",null==t?null:t.length)}}function L(t,e){if(1&t&&(v.TgZ(0,"tui-avatar",11),v._uU(1),v.qZA()),2&t){const t=e.ngIf;v.Q6J("src",t.avatarUrl),v.xp6(1),v.hij(" ",t.firstName," ")}}function O(t,e){if(1&t&&(v.YNc(0,L,2,2,"tui-avatar",10),v.ALo(1,"async")),2&t){const t=v.oxw();v.Q6J("ngIf",v.lcZ(1,1,t.user$))}}class _{constructor(t,e,n,i=null,s=!1){this.firstName=t,this.lastName=e,this.phone=n,this.avatarUrl=i,this.disabled=s}toString(){return`${this.firstName} ${this.lastName}`}}const k=[new _("Roman","Sedov","+75678901234","https://avatars.githubusercontent.com/u/10106368"),new _("Alex","Inkin","+75678901234",u.Ll`/images/avatar.jpg`)];class q{constructor(){this.search$=new h.x,this.selected$=new h.x,this.value="",this.user$=(0,p.T)(this.selected$,this.search$.pipe((0,g.w)((t=>this.request(t).pipe((0,f.U)((e=>this.isFullMatch(e,t)?e[0]:null))))))).pipe((0,d.b)((t=>{t&&(this.value=t.phone)}))),this.items$=this.search$.pipe((0,m.O)(""),(0,g.w)((t=>this.request(t).pipe((0,f.U)((e=>this.isFullMatch(e,t)?[]:e)))))),this.placeholder$=(0,x.a)([this.user$,this.search$]).pipe((0,f.U)((([t,e])=>t||this.getPlaceholder(e))),(0,m.O)("Phone number or name"))}onSearch(t){this.search$.next(t)}onClick(t){this.selected$.next(t)}request(t){return(0,C.of)(k.filter((e=>(0,c.TUI_DEFAULT_MATCHER)(e,t)||(0,c.TUI_DEFAULT_MATCHER)(e.phone,t)))).pipe((0,T.B)())}getPlaceholder(t){return t?t.startsWith("+")?"Phone number":"Name":"Phone number or name"}isFullMatch(t,e){return 1===t.length&&(String(t[0])===e||t[0].phone===e)}}(i=q).ɵfac=function(t){return new(t||i)},i.ɵcmp=v.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,exportAs:"ExampleComponent3",features:[v.jDz],decls:6,vars:4,consts:[[3,"allowText","tuiTextfieldCustomContent","ngModel","ngModelChange","searchChange",4,"tuiLet"],["avatar",""],[3,"allowText","tuiTextfieldCustomContent","ngModel","ngModelChange","searchChange"],[4,"ngIf"],[4,"tuiDataList"],["tuiOption","",3,"disabled","value","click",4,"ngFor","ngForOf"],["tuiOption","",3,"disabled","value","click"],["size","s",1,"tui-space_right-3",3,"src"],[1,"user"],[1,"phone"],["size","s",3,"src",4,"ngIf"],["size","s",3,"src"]],template:function(t,e){1&t&&(v.YNc(0,b,4,7,"tui-input-phone",0),v.ALo(1,"async"),v.YNc(2,O,2,3,"ng-template",null,1,v.W1O),v.TgZ(4,"p"),v._uU(5),v.qZA()),2&t&&(v.Q6J("tuiLet",v.lcZ(1,2,e.items$)),v.xp6(5),v.hij("Value: ",e.value,""))},dependencies:[r.Kjg,w.y,A.X,c.TuiLet,a.Ov,r.cnw,$.B,o.u5,o.JJ,o.On,a.O5,Z.TuiDataListComponent,Z.TuiDataListDirective,Z.TuiOption,a.sg,l.TuiAvatarComponent],styles:[".user[_ngcontent-%COMP%]{margin-right:auto}.phone[_ngcontent-%COMP%]{font:var(--tui-font-text-s);display:block;color:var(--tui-text-03)}"],changeDetection:0}),(0,s.gn)([c.tuiPure],q.prototype,"request",null);const J=q}}]);