(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[18633],{18633:(t,e,s)=>{s.r(e),s.d(e,{default:()=>k});var i=s(36576),n=s(87742),a=s(68126),r=s(42719),o=s(3948),u=s(7287),c=s(87560),l=s(14027),m=s(55514),p=s(37550),g=s(7740),h=s(21154),d=s(35630),f=s(25083),v=s(25673);const b=["avatar"];function w(t,e){if(1&t){const t=p.RV6();p.j41(0,"button",12),p.bIt("click",(function(){const e=p.eBV(t).$implicit,s=p.XpG(4);return p.Njj(s.onSelected(e))})),p.EFF(1),p.j41(2,"tui-avatar",13),p.EFF(3),p.nI1(4,"tuiInitials"),p.k0s()()}if(2&t){const t=e.$implicit;p.Y8G("value",t.toString()),p.R7$(),p.SpI(" ",t," "),p.R7$(),p.Y8G("src",t.avatarUrl),p.R7$(),p.SpI(" ",p.bMT(4,4,t.toString())," ")}}function C(t,e){if(1&t&&(p.j41(0,"tui-data-list"),p.Z7z(1,w,5,6,"button",11,p.fX1),p.k0s()),2&t){const t=p.XpG(2).tuiLet;p.R7$(),p.Dyx(t)}}function F(t,e){1&t&&p.DNE(0,C,3,0,"tui-data-list",10)}function S(t,e){if(1&t&&(p.j41(0,"tui-input",8),p.EFF(1," User "),p.nrm(2,"input",9),p.DNE(3,F,1,0,"tui-data-list"),p.k0s()),2&t){const t=e.tuiLet,s=p.XpG();p.Y8G("tuiTextfieldCustomContent",s.content),p.R7$(3),p.vxM(null!=t&&t.length?3:-1)}}function U(t,e){if(1&t&&(p.j41(0,"tui-avatar",14),p.EFF(1),p.nI1(2,"tuiInitials"),p.k0s()),2&t){const t=p.XpG(2);p.Y8G("src",t.lastUser.avatarUrl),p.R7$(),p.SpI(" ",p.bMT(2,2,t.lastUser.toString())," ")}}function E(t,e){if(1&t&&p.DNE(0,U,3,4,"tui-avatar",14),2&t){const t=p.XpG();p.vxM(t.lastUser?0:-1)}}function G(t,e){if(1&t&&p.nrm(0,"tui-data-list-wrapper",15),2&t){const t=p.XpG(),e=p.sdS(9);p.Y8G("itemContent",e)("items",t.accounts)}}function I(t,e){if(1&t&&(p.j41(0,"div"),p.EFF(1),p.j41(2,"span"),p.EFF(3),p.nI1(4,"tuiAmount"),p.nI1(5,"async"),p.k0s()()),2&t){const t=e.$implicit;p.R7$(),p.SpI(" ",t.name," "),p.R7$(2),p.JRh(p.bMT(5,5,p.i5U(4,2,t.amount,"RUB")))}}class R{constructor(t,e,s=null,i=[],n=""){this.firstName=t,this.lastName=e,this.avatarUrl=s,this.accounts=i,this.card=n}toString(){return`${this.firstName} ${this.lastName}`}}class y{constructor(t,e,s,i,n){this.id=t,this.name=e,this.amount=s,this.currency=i,this.cardSvg=n}toString(){return this.name}}const D=[new y("1","RUB",24876.55,r.o.Ruble,"https://ng-web-apis.github.io/dist/assets/images/common.svg"),new y("2","USD",335,r.o.Dollar,"https://ng-web-apis.github.io/dist/assets/images/geolocation.svg")],N=[new y("3","EUR",1e4,r.o.Euro,"https://ng-web-apis.github.io/dist/assets/images/intersection-observer.svg"),new y("4","PND",100,r.o.Pound,"https://ng-web-apis.github.io/dist/assets/images/payment-request.svg")],$=[new R("Roman","Sedov","https://avatars.githubusercontent.com/u/10106368",D),new R("Alex","Inkin",a.mY`/images/avatar.jpg`,N,"1234123412341234"),new R("Dmitriy","Demenskiy"),new R("Evgeniy","Mamaev"),new R("Ivan","Ishmametiev"),new R("Igor","Katsuba"),new R("Yulia","Tsareva")];let k=(()=>{var t;class e{constructor(){this.user=new n.MJ(""),this.testForm=new n.gE({user:this.user,account:new n.MJ(""),card:new n.MJ("")}),this.lastUser=null,this.users$=(0,o.lD9)(this.user).pipe((0,m.T)((t=>{const e=$.filter((e=>(0,o.Gb0)(e,t)));return 1!==e.length||String(e[0]).toLowerCase()!==t.toLowerCase()?e:(e[0]&&this.onSelected(e[0]),[])})))}get card(){const{value:t}=this.testForm.get("card");if((t?.length??0)<7)return null;switch(t?.charAt(0)){case"0":case"1":case"2":return"https://ng-web-apis.github.io/dist/assets/images/common.svg";case"3":case"4":case"5":return"https://ng-web-apis.github.io/dist/assets/images/geolocation.svg";case"6":case"7":return"https://ng-web-apis.github.io/dist/assets/images/intersection-observer.svg";default:return"https://ng-web-apis.github.io/dist/assets/images/payment-request.svg"}}get isUserSelected(){return null!==this.lastUser&&this.lastUser.toString().toLowerCase()===this.testForm.get("user")?.value?.toLowerCase()}get content(){return this.avatar&&this.isUserSelected?this.avatar:""}get accounts(){return this.isUserSelected&&this.lastUser?.accounts||[]}onSelected(t){this.lastUser=t,this.testForm.get("card").setValue(t.card)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=p.VBU({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&p.GBs(b,5),2&t){let t;p.mGM(t=p.lsd())&&(e.avatar=t.first)}},decls:14,vars:5,consts:[["avatar",""],["accountContent",""],[1,"container",3,"formGroup"],["formControlName","user",3,"tuiTextfieldCustomContent",4,"tuiLet"],["formControlName","account",1,"tui-space_vertical-5"],[3,"itemContent","items",4,"tuiDataList"],["tuiLabel",""],["formControlName","card","tuiInputCard","",3,"icon"],["formControlName","user",3,"tuiTextfieldCustomContent"],["placeholder","Type your name or surname","tuiTextfieldLegacy",""],[4,"tuiDataList"],["tuiOption","","type","button",3,"value"],["tuiOption","","type","button",3,"click","value"],["size","xs",3,"src"],["size","s",3,"src"],[3,"itemContent","items"]],template:function(t,e){1&t&&(p.j41(0,"form",2),p.DNE(1,S,4,2,"tui-input",3),p.nI1(2,"async"),p.DNE(3,E,1,1,"ng-template",null,0,p.C5r),p.j41(5,"tui-input",4),p.EFF(6," Account "),p.DNE(7,G,1,2,"tui-data-list-wrapper",5)(8,I,6,7,"ng-template",null,1,p.C5r),p.k0s(),p.j41(10,"tui-textfield")(11,"label",6),p.EFF(12,"Card number"),p.k0s(),p.nrm(13,"input",7),p.k0s()()),2&t&&(p.Y8G("formGroup",e.testForm),p.R7$(),p.Y8G("tuiLet",p.bMT(2,3,e.users$)),p.R7$(12),p.Y8G("icon",e.card))},dependencies:[i.Jj,n.X1,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,r.fT,c.Elh,u.uEM,u.WX9,u.aOZ,c.dfP,u.eoQ,r.Jq,l.ziW,g.m,h.W,d.B,o.cOJ,f.z,u.Bwv,l.CNI,v.R],styles:[".container[_ngcontent-%COMP%]{max-inline-size:18rem}"],changeDetection:0}),e})()}}]);