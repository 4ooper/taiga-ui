(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[79708],{79708:(e,t,o)=>{o.r(t),o.d(t,{default:()=>x});var r=o(4594),n=o(66094),i=o(80486),a=o(48266),l=o(52399),u=o(55495),s=o(35548),c=o(38252),h=o(63142),d=o(21190),p=o(63708),m=o(38264),f=o(90921);const g=["phoneErrorContent"];function C(e,t){1&e&&s._uU(0,"Invalid phone number length")}const b=function(){return[]};function T(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"label",4),s._uU(1),s.TgZ(2,"span",5)(3,"tui-input-phone",6),s._UZ(4,"input",7),s.qZA(),s.TgZ(5,"button",8),s.NdJ("click",(function(){const t=s.CHM(e).index,o=s.oxw();return s.KtG(o.removePhone(t))})),s._uU(6," Delete phone number "),s.qZA()(),s.YNc(7,C,1,0,"ng-template",null,9,s.W1O),s._UZ(9,"tui-error",10),s.ALo(10,"async"),s.ALo(11,"tuiFieldError"),s.qZA()}if(2&e){const e=t.index;s.xp6(1),s.hij(" Phone number ",e+1," "),s.xp6(2),s.s9C("formControlName",e),s.Q6J("tuiTextfieldLabelOutside",!0),s.xp6(6),s.s9C("formControlName",e),s.Q6J("error",s.lcZ(10,5,s.lcZ(11,7,s.DdM(9,b))))}}const x=(()=>{var e;class t{constructor(){this.testForm=new n.cw({phones:new n.Oe([new n.NI("",[n.kI.required,this.getPhoneLengthValidator()])],[this.getPhoneArrayValidator()])})}get formData(){return this.testForm.get("phones")}addPhone(){this.formData.push(new n.NI("",this.addValidators()))}removePhone(e){this.formData.removeAt(e);let t=0;for(;t<=1&&this.formData.controls[t];)this.formData.controls[t].setValidators([n.kI.required,this.getPhoneLengthValidator()]),t++}addValidators(){return this.formData.controls.length<2?[n.kI.required,this.getPhoneLengthValidator()]:null}getPhoneLengthValidator(){return e=>12!==e.value.length?{length:new i.TuiValidationError(this.phoneErrorContent)}:null}getPhoneArrayValidator(){return e=>e.controls.length<2||e.controls.filter((e=>e.errors)).length&&e.controls.length?{length:new i.TuiValidationError("You should add at least 2 phone number")}:null}}return(e=t).ɵfac=function(t){return new(t||e)},e.ɵcmp=s.Xpm({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&s.Gf(g,5),2&e){let e;s.iGM(e=s.CRH())&&(t.phoneErrorContent=e.first)}},standalone:!0,exportAs:"ExampleComponent4",features:[s.jDz],decls:7,vars:8,consts:[[3,"formGroup"],["formArrayName","phones","tuiLabel","","class","tui-space_bottom-4",4,"ngFor","ngForOf"],["formArrayName","phones",1,"form-array-error",3,"error"],["size","s","tuiButton","","type","button",1,"tui-space_top-4",3,"click"],["formArrayName","phones","tuiLabel","",1,"tui-space_bottom-4"],[1,"row"],["tuiTextfieldSize","m",1,"input",3,"formControlName","tuiTextfieldLabelOutside"],["autocomplete","new-password","tuiTextfield",""],["appearance","icon","iconLeft","tuiIconTrash","size","m","tuiIconButton","","type","button",1,"tui-space_left-2","icon",3,"click"],["phoneErrorContent",""],[3,"formControlName","error"]],template:function(e,t){1&e&&(s.TgZ(0,"form",0),s.YNc(1,T,12,10,"label",1),s._UZ(2,"tui-error",2),s.ALo(3,"async"),s.ALo(4,"tuiFieldError"),s.TgZ(5,"button",3),s.NdJ("click",(function(){return t.addPhone()})),s._uU(6," Add a phone number "),s.qZA()()),2&e&&(s.Q6J("formGroup",t.testForm),s.xp6(1),s.Q6J("ngForOf",t.formData.controls),s.xp6(1),s.Q6J("error",s.lcZ(3,3,s.lcZ(4,5,s.DdM(7,b)))))},dependencies:[n.UX,n._Y,n.JJ,n.JL,n.sg,n.u,n.CE,r.sg,a.TuiLabelDirective,u.Kj,c.y,h.X,d.Q,a.TuiTextfieldOptionsDirective,a.TuiTextfieldControllerModule,p.x,m.s,a.TuiButtonDirective,a.TuiErrorComponent,l.TuiFieldErrorPipeModule,f.A,r.Ov],styles:[".input[_ngcontent-%COMP%]{width:20rem}.row[_ngcontent-%COMP%]{display:flex;align-items:center}.form-array-error[_ngcontent-%COMP%]{font-size:.875rem}"],changeDetection:0}),t})()}}]);