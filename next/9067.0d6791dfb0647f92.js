(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[9067],{9067:(t,e,n)=>{n.d(e,{R5:()=>V,lo:()=>N,wX:()=>S,hd:()=>gt,ne:()=>jt,lj:()=>It,s5:()=>ne});var i=n(37550),a=n(15585),o=n(50009),r=n(61361),s=n(43707),l=n(15862),c=n(79384),u=n(52609),p=n(68339),d=n(59996),m=n(1146),f=n(76145),h=n(1377),g=n(85122),b=n(25358),v=n(21482),w=n(48513),x=n(55514),k=n(70948),y=n(63152);function z(t,e){if(1&t){const t=i.RV6();i.j41(0,"button",3),i.bIt("click",(function(){i.eBV(t);const e=i.XpG();return i.Njj(e.close$.next())}))("mousedown.prevent.zoneless",(function(){return i.eBV(t),i.Njj(0)})),i.EFF(1),i.k0s()}if(2&t){const t=i.XpG();i.xc7("border-radius",100,"%"),i.Y8G("appearance","fullscreen"===t.context.appearance?"action":"neutral")("iconStart",t.icons.close),i.R7$(),i.SpI(" ",t.close()," ")}}function C(t,e){if(1&t&&(i.j41(0,"header",1)(1,"hgroup",4),i.nrm(2,"h2",5),i.k0s()()),2&t){const t=i.XpG();i.R7$(2),i.Y8G("id",t.context.id)("innerHTML",t.context.label,i.npT)}}function X(t,e){if(1&t){const t=i.RV6();i.j41(0,"footer")(1,"button",7),i.bIt("click",(function(){i.eBV(t);const e=i.XpG(2);return i.Njj(e.context.$implicit.complete())})),i.EFF(2),i.k0s()()}if(2&t){const t=i.XpG(2);i.R7$(2),i.SpI(" ",t.context.data||"OK"," ")}}function j(t,e){if(1&t&&(i.qex(0),i.j41(1,"header",1)(2,"hgroup",4),i.nrm(3,"h2",5)(4,"p",6),i.k0s()(),i.DNE(5,X,3,1,"footer"),i.bVm()),2&t){const t=e.polymorpheusOutlet,n=i.XpG();i.R7$(3),i.Y8G("id",n.context.id)("innerHTML",n.context.label,i.npT),i.R7$(),i.Y8G("innerHTML",t,i.npT),i.R7$(),i.vxM(n.context.closable||n.context.dismissible?5:-1)}}const G=new Error("Required dialog was dismissed");function I(t){return(0,m.A)(t)?t:(0,f.of)(t)}let $=(()=>{var t;class e{constructor(){this.close$=new h.B,this.close=(0,a.ot)((0,i.WQX)(p.R3)),this.icons=(0,i.WQX)(p._Z),this.context=(0,d.Dm)(),this.primitive=!(this.context.content instanceof i.C4Q||this.context.content instanceof d.A7||this.context.content instanceof d.lS),this.sub=(0,g.h)(this.close$.pipe((0,b.n)((()=>I(this.context.closable)))),(0,i.WQX)(l._T).pipe((0,v.p)((()=>I(this.context.dismissible).pipe((0,w.s)(1))))),(0,i.WQX)(l.cL).pipe((0,x.T)(o.z9))).pipe((0,k.p)(Boolean),(0,a.pQ)()).subscribe((()=>{this.context.required?this.context.$implicit.error(G):this.context.$implicit.complete()}))}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=i.VBU({type:t,selectors:[["tui-dialog"]],hostAttrs:["new",""],hostVars:4,hostBindings:function(t,e){2&t&&(i.BMQ("data-appearance",e.context.appearance)("data-size",e.context.size),i.AVh("_closable",e.context.closable))},features:[i.Jv_([l._T,{provide:c.YY,useFactory:()=>({size:R((0,d.Dm)())})}]),i.nM4([y.QH])],decls:3,vars:4,consts:[["size","s","tuiIconButton","","type","button",1,"t-close",3,"appearance","iconStart","border-radius"],["tuiHeader",""],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["size","s","tuiIconButton","","type","button",1,"t-close",3,"click","mousedown.prevent.zoneless","appearance","iconStart"],["tuiTitle",""],[3,"id","innerHTML"],[3,"innerHTML"],["size","m","tuiAutoFocus","","tuiButton","","type","button",3,"click"]],template:function(t,e){1&t&&i.DNE(0,z,2,5,"button",0)(1,C,3,2,"header",1)(2,j,6,4,"ng-container",2),2&t&&(i.vxM(e.context.closable?0:-1),i.R7$(),i.vxM(!e.primitive&&e.context.label?1:-1),i.R7$(),i.Y8G("polymorpheusOutlet",e.context.content)("polymorpheusOutletContext",e.context))},dependencies:[d.xr,r.s8,s.p,c.IF,u.R],styles:['tui-dialog[new]{position:relative;box-sizing:border-box;font:var(--tui-font-text-m);background:var(--tui-background-elevation-1);box-shadow:var(--tui-shadow-popup)}tui-dialog[new]:not([data-appearance~=fullscreen])._closable>header,tui-dialog[new]:not([data-appearance~=fullscreen])._closable>ng-component>header{padding-inline-end:2.5rem}tui-dialog[new]>.t-close{position:absolute;top:1rem;z-index:1;inset-inline-end:1rem}tui-dialog[new][data-appearance~=taiga]{max-inline-size:calc(100vw - 5rem);margin:2.5rem;padding:1.75rem;border-radius:1.5rem;--tui-from: translateY(2.5rem)}tui-dialog[new][data-appearance~=taiga].tui-enter,tui-dialog[new][data-appearance~=taiga].tui-leave{animation-name:tuiFade,tuiSlide}tui-dialog[new][data-appearance~=taiga][data-size=s]{inline-size:25rem;padding:1.5rem}tui-dialog[new][data-appearance~=taiga][data-size=s]>header:not(:last-child),tui-dialog[new][data-appearance~=taiga][data-size=s]>ng-component>header:not(:last-child){margin-block-end:1.25rem}tui-dialog[new][data-appearance~=taiga][data-size=s]>footer,tui-dialog[new][data-appearance~=taiga][data-size=s]>ng-component>footer,tui-dialog[new][data-appearance~=taiga][data-size=s]>tui-confirm>footer{margin-block-start:1.25rem}tui-dialog[new][data-appearance~=taiga][data-size=m]{inline-size:37.5rem}tui-dialog[new][data-appearance~=taiga][data-size=l]{inline-size:50rem}tui-dialog[new][data-appearance~=taiga]>header:not(:last-child),tui-dialog[new][data-appearance~=taiga]>ng-component>header:not(:last-child){margin-block-end:1.5rem}tui-dialog[new][data-appearance~=taiga]>footer,tui-dialog[new][data-appearance~=taiga]>ng-component>footer,tui-dialog[new][data-appearance~=taiga]>tui-confirm>footer{display:flex;justify-content:flex-end;flex-wrap:wrap-reverse;gap:.75rem;margin-block-start:2rem}tui-dialog[new][data-appearance~=fullscreen]{display:flex;flex-direction:column;block-size:100%;inline-size:100%;padding:env(safe-area-inset-top) max(calc(50vw - var(--tui-width) / 2),1rem) max(2rem,env(safe-area-inset-bottom));background:var(--tui-background-base);box-shadow:none;--tui-width: 45rem;--tui-from: translateY(2rem)}tui-dialog[new][data-appearance~=fullscreen].tui-enter,tui-dialog[new][data-appearance~=fullscreen].tui-leave{animation-name:tuiFade,tuiSlide}tui-dialog[new][data-appearance~=fullscreen]>.t-close{position:sticky;top:env(safe-area-inset-top);block-size:4rem;inline-size:auto;align-self:flex-end;margin-block-end:2rem;border-radius:0!important;font:var(--tui-font-text-m)!important;border-image:conic-gradient(var(--tui-background-base) 0 0) fill 0 / 0 / env(safe-area-inset-top) 100vw 0}tui-dialog[new][data-appearance~=fullscreen]>.t-close:before{display:none}tui-dialog[new][data-appearance~=fullscreen].tui-app-bar .t-close{display:none}tui-dialog[new][data-appearance~=fullscreen]:not(._closable):not(.tui-app-bar):before{content:"";block-size:1.5rem}tui-dialog[new][data-appearance~=fullscreen]>tui-app-bar,tui-dialog[new][data-appearance~=fullscreen]>ng-component>tui-app-bar{position:sticky;top:0;z-index:1;order:-1;border-inline-end:calc(50vw - var(--tui-width) / 2) solid transparent;border-inline-start:calc(50vw - var(--tui-width) / 2) solid transparent;margin:0 calc(var(--tui-width) / 2 - 50vw) 2rem}tui-dialog[new][data-appearance~=fullscreen]>header,tui-dialog[new][data-appearance~=fullscreen]>[tuiSlides]>*>header,tui-dialog[new][data-appearance~=fullscreen]>ng-component>header,tui-dialog[new][data-appearance~=fullscreen]>ng-component>[tuiSlides]>*>header{margin-block-end:2rem}tui-dialog[new][data-appearance~=fullscreen]>footer,tui-dialog[new][data-appearance~=fullscreen]>ng-component>footer{display:flex;gap:.5rem .75rem;padding:2rem calc(50vw - var(--tui-width) / 2);margin:0 calc(var(--tui-width) / 2 - 50vw) calc(-2rem - env(safe-area-inset-top))}tui-dialog[new][data-appearance~=fullscreen]>footer:before,tui-dialog[new][data-appearance~=fullscreen]>ng-component>footer:before{left:0;right:0}tui-root:not(._mobile) tui-dialog[new][data-appearance~=fullscreen]>footer,tui-root:not(._mobile) tui-dialog[new][data-appearance~=fullscreen]>ng-component>footer{flex-direction:row;background:color-mix(in hsl,var(--tui-background-base) 80%,transparent);-webkit-backdrop-filter:blur(2rem);backdrop-filter:blur(2rem)}tui-root:not(._mobile) tui-dialog[new][data-appearance~=fullscreen]>footer:before,tui-root:not(._mobile) tui-dialog[new][data-appearance~=fullscreen]>ng-component>footer:before{display:none}tui-root:not(._mobile) tui-dialog[new][data-appearance~=fullscreen]>footer>button,tui-root:not(._mobile) tui-dialog[new][data-appearance~=fullscreen]>ng-component>footer>button,tui-root:not(._mobile) tui-dialog[new][data-appearance~=fullscreen]>footer>a,tui-root:not(._mobile) tui-dialog[new][data-appearance~=fullscreen]>ng-component>footer>a{inline-size:auto}tui-root._mobile tui-dialog[new][data-appearance~=fullscreen]{padding-block-end:max(1rem,env(safe-area-inset-bottom));--tui-from: translateY(4rem)}tui-root._mobile tui-dialog[new][data-appearance~=fullscreen] .t-close{align-self:flex-start;block-size:3.5rem;margin-block-end:1rem}tui-root._mobile tui-dialog[new][data-appearance~=fullscreen]>tui-app-bar,tui-root._mobile tui-dialog[new][data-appearance~=fullscreen]>ng-component>tui-app-bar{margin:calc(-1*env(safe-area-inset-top)) -1rem 1rem;padding-block-start:env(safe-area-inset-top);box-sizing:content-box}tui-root._mobile tui-dialog[new][data-appearance~=fullscreen]>header,tui-root._mobile tui-dialog[new][data-appearance~=fullscreen]>[tuiSlides]>*>header,tui-root._mobile tui-dialog[new][data-appearance~=fullscreen]>ng-component>header,tui-root._mobile tui-dialog[new][data-appearance~=fullscreen]>ng-component>[tuiSlides]>*>header{margin:-.25rem 0 1.5rem}tui-root._mobile tui-dialog[new][data-appearance~=fullscreen]>footer,tui-root._mobile tui-dialog[new][data-appearance~=fullscreen]>ng-component>footer{padding:0 1rem max(1rem,env(safe-area-inset-bottom));margin:1.5rem -1rem calc(-1*max(1rem,env(safe-area-inset-bottom)))}\n'],encapsulation:2}),e})();function R({appearance:t,size:e}){return t.includes("fullscreen")?"h3":"s"===e?"h5":"h4"}var E=n(4071),B=n(27606),M=n(69850);const[V,O]=(0,M.t)({appearance:"taiga",size:"m",required:!1,closable:!0,dismissible:!0,label:"",data:void 0});let S=(()=>{var t;class e extends B.bL{}return(t=e).ɵfac=(()=>{let e;return function(n){return(e||(e=i.xGo(t)))(n||t)}})(),t.ɵprov=i.jDH({token:t,factory:()=>new t(l.lb,$,(0,i.WQX)(V)),providedIn:"root"}),e})(),N=(()=>{var t;class e extends E.j{}return(t=e).ɵfac=(()=>{let e;return function(n){return(e||(e=i.xGo(t)))(n||t)}})(),t.ɵdir=i.FsC({type:t,selectors:[["ng-template","tuiDialog",""]],inputs:{options:[0,"tuiDialogOptions","options"],open:[0,"tuiDialog","open"]},outputs:{openChange:"tuiDialogChange"},features:[i.Jv_([(0,B.cq)(S)]),i.Vt3]}),e})();var _=n(81359),F=n(87742),Q=n(54073),D=n(34770),T=n(6057),A=n(51125),W=n(61542),P=n(88362),Y=n(34790),H=n(41305),J=n(30614),L=n(47724),q=n(14712),Z=n(34581),U=n(71789),K=n(89935),tt=n(38627),et=n(41089),nt=n(85384),it=n(41461),at=n(69277),ot=n(73269),rt=n(58212);const st=["tuiInputPhoneInternational",""],lt=()=>({standalone:!0});function ct(t,e){if(1&t){const t=i.RV6();i.qex(0),i.j41(1,"button",3),i.bIt("click.prevent",(function(){i.eBV(t);const e=i.XpG();return i.Njj(e.interactive()&&e.open.set(!e.open()))}))("pointerdown.stop",(function(){return i.eBV(t),i.Njj(0)})),i.nrm(2,"img",4),i.nI1(3,"tuiFlag"),i.k0s(),i.bVm()}if(2&t){let t;const e=i.XpG();i.R7$(),i.AVh("t-ipi-select_readonly",e.readOnly()),i.Y8G("disabled",e.disabled())("size",e.size())("tuiAppearanceFocus",e.open()),i.BMQ("data-mode",e.mode()),i.R7$(),i.AVh("t-ipi-flag_small","s"===e.size()),i.Y8G("alt",null==(t=e.names())?null:t[e.code()])("src",i.bMT(3,10,e.code()),i.B4B)}}function ut(t,e){if(1&t){const t=i.RV6();i.j41(0,"div",5)(1,"tui-textfield",6)(2,"input",7),i.bIt("keydown.arrowDown",(function(){let e;i.eBV(t);const n=i.XpG();return i.Njj(null==(e=n.list.get(0))||null==e.nativeElement?null:e.nativeElement.focus())}))("ngModelChange",(function(e){i.eBV(t);const n=i.XpG();return i.Njj(n.search.set(e))})),i.k0s()()()}if(2&t){const t=i.XpG();i.R7$(),i.Y8G("iconStart",t.icons.search)("tuiTextfieldSize","s"===t.size()?"s":"m"),i.R7$(),i.Y8G("ngModel",t.search())("ngModelOptions",i.lJ4(6,lt))("placeholder",t.label())("tuiAutoFocus",!t.ios)}}function pt(t,e){1&t&&i.eu8(0)}function dt(t,e){if(1&t&&i.DNE(0,pt,1,0,"ng-container",10),2&t){i.XpG(2);const t=i.sdS(2);i.Y8G("ngTemplateOutlet",t)}}function mt(t,e){if(1&t){const t=i.RV6();i.j41(0,"button",11),i.bIt("click",(function(){const e=i.eBV(t).$implicit,n=i.XpG(2);return i.Njj(n.onItemClick(e.iso))})),i.nrm(1,"img",12),i.nI1(2,"tuiFlag"),i.j41(3,"span",13),i.EFF(4),i.k0s(),i.j41(5,"span",14),i.EFF(6),i.k0s()()}if(2&t){const t=e.$implicit,n=i.XpG(2);i.Y8G("tuiCell",n.size()),i.R7$(),i.AVh("t-ipi-flag_small","s"===n.size()),i.Y8G("src",i.bMT(2,6,t.iso),i.B4B),i.R7$(3),i.JRh(t.name),i.R7$(2),i.JRh(t.code)}}function ft(t,e){if(1&t&&(i.qex(0),i.DNE(1,dt,1,1,"ng-container"),i.j41(2,"tui-data-list",8),i.Z7z(3,mt,7,8,"button",9,i.Vm6),i.k0s(),i.bVm()),2&t){const t=i.XpG();i.R7$(),i.vxM(t.countrySearch?1:-1),i.R7$(2),i.Dyx(t.filtered())}}const ht=/[^+\d]/g;let gt=(()=>{var t;class e extends T.OH{constructor(){super(...arguments),this.list=o.xQ,this.el=(0,P.qW)(),this.ios=(0,i.WQX)(W.mg),this.icons=(0,i.WQX)(p._Z),this.options=(0,i.WQX)(U.L0),this.countries=(0,i.vPA)(this.options.countries),this.code=(0,i.vPA)(this.options.countryIsoCode),this.label=(0,a.ot)((0,i.WQX)(tt.tj)),this.metadata=(0,a.ot)((0,at.H)(this.options.metadata)),this.names=(0,a.ot)((0,i.WQX)(tt.MH)),this.open=(0,q.ED)(),this.search=(0,i.vPA)(""),this.size=(0,i.WQX)(L.KB).size,this.mask=(0,et.nJ)((0,i.EWP)((()=>this.computeMask(this.code(),this.metadata())))),this.masked=(0,P.Od)(this.el),this.valueChangeEffect=(0,i.QZP)((()=>{this.onChange(this.unmask(this.masked()))}),o.Fk),this.filtered=(0,i.EWP)((()=>this.countries().map((t=>({iso:t,name:this.names()?.[t]||"",code:(0,et.YN)(t,this.metadata())}))).filter((({name:t,code:e})=>(0,o.Gb)(t+e,this.search()))))),this.enabled=(0,Y.hp)(q.iE,"tuiDropdownEnabled",this.interactive,{}),this.$=(0,i.WQX)(A.N).tuiActiveZoneChange.pipe((0,k.p)((()=>!this.readOnly())),(0,a.pQ)()).subscribe((t=>{const e=`${(0,et.YN)(this.code(),this.metadata())} `;this.search.set(""),this.masked.update((n=>n===e?"":t?n||e:n))})),this.countrySearch=!1,this.countryIsoCodeChange=(0,a.br)(this.code).pipe((0,ot.i)(1))}set countriesValue(t){this.countries.set(t)}set isoCode(t){this.code.set(t)}writeValue(t){const e=this.getCountryCode(t??"");e&&this.code.set(e),super.writeValue(t),this.masked.set((0,Q.bc)(this.value()??"",this.mask()||Q.oI))}onPaste(t){const e=(0,P.jr)(t)&&t.data;if(!e||!t.inputType.includes("Drop")&&!t.inputType.includes("Paste"))return;const n=this.getCountryCode(e);n&&this.code.set(n)}onItemClick(t){this.el.focus(),this.open.set(!1),this.code.set(t),this.search.set(""),this.masked.set((0,Q.bc)(this.value()||(0,et.YN)(t,this.metadata()),this.mask()||Q.oI))}computeMask(t,e){if(!e)return null;const{plugins:n,...i}=(0,D.K)({countryIsoCode:t,metadata:e,separator:this.options.separator});return{...i,plugins:[...n,(0,Q.mz)()]}}unmask(t){const e=t.replaceAll(ht,"");return e===(0,et.YN)(this.code(),this.metadata())?"":e}getCountryCode(t){const e=this.metadata(),n=t.startsWith(o.QE)?t:o.QE+t;return e&&"TOO_SHORT"!==function(){return(0,nt.A)(it.A,arguments)}(n)?(0,D.Q)(n,e)??null:null}}return(t=e).ɵfac=(()=>{let e;return function(n){return(e||(e=i.xGo(t)))(n||t)}})(),t.ɵcmp=i.VBU({type:t,selectors:[["input","tuiInputPhoneInternational",""]],viewQuery:function(t,e){if(1&t&&i.GBs(J.sK,5,i.aKT),2&t){let t;i.mGM(t=i.lsd())&&(e.list=t)}},hostAttrs:["type","tel","ngSkipHydration","true"],hostVars:2,hostBindings:function(t,e){1&t&&i.bIt("input",(function(t){return e.masked.set(t.target.value)}))("click",(function(){return e.open.set(!1)}))("beforeinput.capture",(function(t){return e.onPaste(t)})),2&t&&(i.Mr5("disabled",e.disabled()),i.BMQ("inputmode",!e.ios&&e.open()?"none":null))},inputs:{countrySearch:"countrySearch",countriesValue:[0,"countries","countriesValue"],isoCode:[0,"countryIsoCode","isoCode"]},outputs:{countryIsoCodeChange:"countryIsoCodeChange"},features:[i.Jv_([(0,T.SN)(t),(0,W.Nk)(""),(0,r.fl)({preventScroll:!0})]),i.nM4([rt.uj,L.Mm]),i.Vt3],attrs:st,decls:4,vars:0,consts:[["filter",""],[4,"tuiTextfieldContent"],[4,"tuiTextfieldDropdown"],["appearance","textfield","tabindex","-1","tuiButton","","tuiChevron","","type","button",1,"t-ipi-select",3,"click.prevent","pointerdown.stop","disabled","size","tuiAppearanceFocus"],[1,"t-ipi-flag",3,"alt","src"],[1,"t-ipi-search"],[3,"iconStart","tuiTextfieldSize"],["autocomplete","off","tuiTextfield","","type","text",3,"keydown.arrowDown","ngModelChange","ngModel","ngModelOptions","placeholder","tuiAutoFocus"],[1,"t-ipi-options"],["new","","tuiOption","","type","button",3,"tuiCell"],[4,"ngTemplateOutlet"],["new","","tuiOption","","type","button",3,"click","tuiCell"],["alt","",1,"t-ipi-flag",3,"src"],["tuiTitle",""],[1,"t-ipi-code"]],template:function(t,e){1&t&&i.DNE(0,ct,4,12,"ng-container",1)(1,ut,3,7,"ng-template",null,0,i.C5r)(3,ft,5,1,"ng-container",2)},dependencies:[_.T3,F.YN,F.me,F.BC,F.vS,r.s8,s.p,H.n1,K.k,J.uE,J.sK,Z.dB,L.Bw,L.j8,L.TB,L.U9,L.PY,u.R],styles:["[tuiInputPhoneInternational][tuiInputPhoneInternational]{left:var(--t-offset);border-top-left-radius:0;border-bottom-left-radius:0;inline-size:calc(100% - var(--t-offset))}[tuiInputPhoneInternational][tuiInputPhoneInternational]+label{padding-inline-start:var(--t-offset)}tui-textfield[data-size=s]{--t-offset: 4.125rem}tui-textfield[data-size=s] .t-ipi-flag{margin:0 .1875rem}tui-textfield[data-size=m]{--t-offset: 4.875rem}tui-textfield[data-size=m] .t-ipi-flag{margin:0 -.1875rem}tui-textfield[data-size=l]{--t-offset: 5.25rem}tui-textfield[data-size=l] .t-ipi-flag{margin:0 -.1875rem}tui-textfield .t-ipi-select{position:absolute;left:0;border-radius:inherit;border-top-right-radius:0;border-bottom-right-radius:0}tui-textfield .t-ipi-select_readonly{pointer-events:none}.t-ipi-flag{inline-size:1.75rem;block-size:1.75rem;border-radius:100%}.t-ipi-flag_small{inline-size:1.25rem;block-size:1.25rem}.t-ipi-code{color:var(--tui-text-secondary)}.t-ipi-search{position:sticky;top:0;z-index:1;background:var(--tui-background-elevation-3);padding:.375rem .375rem 0}@supports (-webkit-touch-callout: none){.t-ipi-search input:focus{animation:tuiPreventIOSScroll 1ms}}@keyframes tuiPreventIOSScroll{0%{opacity:0}to{opacity:1}}tui-dropdown-mobile .t-ipi-search,tui-sheet-dialog .t-ipi-search{background:var(--tui-background-elevation-1)}tui-dropdown-mobile .t-ipi-options:not(:first-child),tui-sheet-dialog .t-ipi-options:not(:first-child){min-block-size:calc(100 * var(--tui-viewport-vh) - 8.75rem)}tui-sheet-dialog .t-ipi-search{top:4.5rem;padding-inline-start:0;padding-inline-end:0}\n"],encapsulation:2,changeDetection:0}),e})();var bt=n(6412),vt=n(62575),wt=n(89857);const[xt,kt]=(0,M.t)({key:"taiga-search-history",history:"@tui.clock",popular:"@tui.search",empty:"@tui.search",remove:"@tui.trash"});function yt(t,e){if(1&t&&(i.j41(0,"label",0),i.EFF(1),i.k0s()),2&t){let t;const e=i.XpG();i.R7$(),i.SpI(" ",null==(t=e.i18n())?null:t.history," ")}}function zt(t,e){if(1&t){const t=i.RV6();i.j41(0,"button",2),i.bIt("click",(function(){const e=i.eBV(t).$implicit,n=i.XpG();return i.Njj(n.select(e))}))("keydown.backspace",(function(){const e=i.eBV(t).$implicit,n=i.XpG();return i.Njj(n.remove(e))}))("keydown.delete",(function(){const e=i.eBV(t).$implicit,n=i.XpG();return i.Njj(n.remove(e))}))("mousedown.prevent",(function(){return i.eBV(t),i.Njj(0)})),i.nrm(1,"div",3),i.j41(2,"span",4),i.EFF(3),i.k0s(),i.j41(4,"button",5),i.bIt("click.stop",(function(){const e=i.eBV(t).$implicit,n=i.XpG();return i.Njj(n.remove(e))})),i.EFF(5," 🗑️ "),i.k0s()()}if(2&t){const t=e.$implicit,n=i.XpG();i.R7$(),i.Y8G("tuiAvatar",n.options.history),i.R7$(2),i.JRh(t),i.R7$(),i.Y8G("iconStart",n.options.remove)}}function Ct(t,e){if(1&t&&(i.j41(0,"label",0),i.EFF(1),i.k0s()),2&t){let t;const e=i.XpG();i.R7$(),i.SpI(" ",null==(t=e.i18n())?null:t.popular," ")}}function Xt(t,e){if(1&t){const t=i.RV6();i.j41(0,"button",6),i.bIt("click",(function(){const e=i.eBV(t).$implicit,n=i.XpG();return i.Njj(n.select(e))}))("mousedown.prevent",(function(){return i.eBV(t),i.Njj(0)})),i.nrm(1,"span",3),i.j41(2,"span",4),i.EFF(3),i.k0s()()}if(2&t){const t=e.$implicit,n=i.XpG();i.R7$(),i.Y8G("tuiAvatar",n.options.popular),i.R7$(2),i.JRh(t)}}let jt=(()=>{var t;class e{constructor(){this.textfield=(0,i.WQX)(L.Bw),this.storage=(0,i.WQX)(bt.fc),this.control=(0,i.WQX)(F.vO),this.close=(0,a.ot)((0,i.WQX)(p.R3)),this.i18n=(0,a.ot)((0,i.WQX)(wt.z8)),this.options=(0,i.WQX)(xt),this.$=this.control.valueChanges?.pipe((0,x.T)(String),(0,k.p)((t=>!!t&&!this.popular.includes(t))),(0,a.pQ)()).subscribe((t=>{this.store(t)})),this.history=this.items,this.popular=[]}store(t){this.storage?.setItem(this.options.key,JSON.stringify(Array.from(new Set([t.trim(),...this.items])).filter(((t,e,n)=>t&&!n.find((e=>e.startsWith(t)&&e!==t)))).slice(0,5)))}remove(t){this.textfield.input?.nativeElement.focus(),this.history=this.history.filter((e=>e!==t)),this.storage?.setItem(this.options.key,JSON.stringify(this.items.filter((e=>e!==t))))}select(t){this.control.control?.setValue(t),this.textfield.input?.nativeElement.focus()}get items(){return JSON.parse(this.storage?.getItem(this.options.key)||"[]")}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=i.VBU({type:t,selectors:[["tui-search-history"]],inputs:{popular:"popular"},decls:6,vars:2,consts:[[1,"t-sr-label"],["tuiCell","","type","button"],["tuiCell","","type","button",3,"click","keydown.backspace","keydown.delete","mousedown.prevent"],[3,"tuiAvatar"],["tuiTitle",""],["appearance","icon","size","xs","tabindex","-1","tuiIconButton","","type","button",3,"click.stop","iconStart"],["tuiCell","","type","button",3,"click","mousedown.prevent"]],template:function(t,e){1&t&&(i.DNE(0,yt,2,1,"label",0),i.Z7z(1,zt,6,3,"button",1,i.fX1),i.DNE(3,Ct,2,1,"label",0),i.Z7z(4,Xt,4,2,"button",1,i.fX1)),2&t&&(i.vxM(e.history.length?0:-1),i.R7$(),i.Dyx(e.history),i.R7$(2),i.vxM(e.popular.length?3:-1),i.R7$(),i.Dyx(e.popular))},dependencies:[vt.El,s.p,H.n1,u.R],styles:["[_nghost-%COMP%]:not(:empty){display:block;padding:.375rem 0}"],changeDetection:0}),e})();var Gt=n(33112);let It=(()=>{var t;class e{constructor(){this.platform=(0,i.WQX)(bt.Rp).platform,this.search=(0,i.WQX)(Gt.f),this.placeholder=(0,a.ot)((0,i.WQX)(wt.z8).pipe((0,x.T)((({hotkey:t})=>this.platform.startsWith("Mac")?`⌘+K ${t}`:`Alt+K ${t}`))))}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵdir=i.FsC({type:t,selectors:[["input","tuiSearchHotkey",""]],hostVars:1,hostBindings:function(t,e){1&t&&i.bIt("keydown.meta.k.stop",(function(){return e.search.open()}),!1,i.EBC)("keydown.alt.k.stop",(function(){return e.search.open()}),!1,i.EBC),2&t&&i.Mr5("placeholder",e.placeholder())}}),e})();var $t,Rt=n(97270),Et=n(16045),Bt=n(11179),Mt=n(13609),Vt=n(26016),Ot=n(50364),St=n(99424),Nt=n(92128),_t=n(31869),Ft=n(80578);const Qt=()=>[],Dt=t=>({$implicit:t});function Tt(t,e){1&t&&i.SdG(0)}function At(t,e){1&t&&i.nrm(0,"tui-loader",0)}function Wt(t,e){if(1&t&&(i.j41(0,"tui-block-status",1),i.nrm(1,"tui-icon",2),i.EFF(2),i.k0s()),2&t){let t;const e=i.XpG(3);i.R7$(),i.Y8G("icon",e.options.empty),i.R7$(),i.SpI(" ",null==(t=e.i18n())?null:t.empty," ")}}function Pt(t,e){if(1&t&&(i.j41(0,"label",6),i.EFF(1),i.k0s()),2&t){const t=i.XpG(2).$implicit;i.R7$(),i.SpI(" ",t.key," ")}}function Yt(t,e){if(1&t&&i.eu8(0,7),2&t){const t=e.$implicit,n=i.XpG(7);i.Y8G("ngTemplateOutlet",n.template||null)("ngTemplateOutletContext",i.eq3(2,Dt,t))}}function Ht(t,e){if(1&t&&(i.DNE(0,Pt,2,1,"label",6),i.Z7z(1,Yt,1,4,"ng-container",7,i.fX1)),2&t){const t=i.XpG().$implicit,e=i.XpG().tuiLet,n=i.XpG(4);i.vxM(!n.active&&e.length>1?0:-1),i.R7$(),i.Dyx(t.value)}}function Jt(t,e){if(1&t&&i.DNE(0,Ht,3,1),2&t){const t=e.$index,n=i.XpG(5);i.vxM(n.active&&n.active!==t+1?-1:0)}}function Lt(t,e){if(1&t&&(i.j41(0,"button",9),i.EFF(1),i.k0s()),2&t){const t=i.XpG().$implicit;i.R7$(),i.SpI(" ",t.key," ")}}function qt(t,e){if(1&t&&i.DNE(0,Lt,2,1,"button",9),2&t){const t=e.$implicit;i.vxM(t.value.length?0:-1)}}function Zt(t,e){if(1&t){const t=i.RV6();i.j41(0,"tui-tabs",8),i.mxI("activeItemIndexChange",(function(e){i.eBV(t);const n=i.XpG(5);return i.DH7(n.active,e)||(n.active=e),i.Njj(e)})),i.bIt("keydown.shift.tab.prevent",(function(){i.eBV(t);const e=i.XpG(5);return i.Njj(e.tab(-1))}),!1,i.EBC)("keydown.tab.prevent",(function(){i.eBV(t);const e=i.XpG(5);return i.Njj(e.tab(1))}),!1,i.EBC),i.j41(1,"button",9),i.EFF(2),i.k0s(),i.Z7z(3,qt,1,1,null,null,i.fX1),i.k0s()}if(2&t){let t;const e=i.XpG().tuiLet,n=i.XpG(4);i.R50("activeItemIndex",n.active),i.R7$(2),i.JRh(null==(t=n.i18n())?null:t.all),i.R7$(),i.Dyx(e)}}function Ut(t,e){if(1&t&&(i.qex(0),i.j41(1,"tui-scrollbar",4),i.Z7z(2,Jt,1,1,null,null,i.fX1),i.nI1(4,"tuiFilter"),i.k0s(),i.DNE(5,Zt,5,2,"tui-tabs",5),i.bVm()),2&t){const t=e.tuiLet,n=i.XpG(4);i.R7$(2),i.Dyx(i.i5U(4,1,t,n.notEmpty)),i.R7$(3),i.vxM(t.length>1?5:-1)}}function Kt(t,e){if(1&t&&(i.DNE(0,Ut,6,4,"ng-container",3),i.nI1(1,"keyvalue")),2&t){const t=i.XpG(3);i.Y8G("tuiLet",i.i5U(1,1,t.results,t.asIs)||i.lJ4(4,Qt))}}function te(t,e){if(1&t&&i.DNE(0,Wt,3,2,"tui-block-status",1)(1,Kt,2,5,"ng-container"),2&t){const t=i.XpG(2);i.vxM(t.results&&t.isEmpty(t.results)?0:1)}}function ee(t,e){if(1&t&&i.DNE(0,At,1,0,"tui-loader",0)(1,te,2,1),2&t){const t=i.XpG();i.vxM(t.results?1:0)}}class ne{constructor(){this.el=(0,P.qW)(),this.options=(0,i.WQX)(xt),this.i18n=(0,a.ot)((0,i.WQX)(wt.z8)),this.textfield=(0,i.WQX)(L.Bw),this.active=0,this.results={}}ngOnChanges(){this.active=0}isEmpty(t){return!Object.values(t).reduce(((t,{length:e})=>e+t),0)}onArrow(t,e){const n=Array.from(this.el.querySelectorAll("[tuiCell]"));n[0]===t&&e<0?this.textfield.input?.nativeElement.focus():(0,Mt.yO)(n.indexOf(t),n,e)}tab(t){const e=Object.values(this.results||{}).filter((t=>t.length)).length;this.active=(0,Vt.w)(this.active+t,0,e),this.textfield.input?.nativeElement.focus()}notEmpty({value:t}){return!!t.length}asIs(){return 0}}($t=ne).ɵfac=function(t){return new(t||$t)},$t.ɵcmp=i.VBU({type:$t,selectors:[["tui-search-results"]],contentQueries:function(t,e,n){if(1&t&&i.wni(n,i.C4Q,5),2&t){let t;i.mGM(t=i.lsd())&&(e.template=t.first)}},hostBindings:function(t,e){1&t&&i.bIt("keydown.arrowDown.prevent",(function(t){return e.onArrow(t.target,1)}))("keydown.arrowUp.prevent",(function(t){return e.onArrow(t.target,-1)}))},inputs:{results:"results"},features:[i.OA$],ngContentSelectors:["*"],decls:2,vars:1,consts:[[1,"t-loader"],["size","m",1,"t-status"],["tuiSlot","top",1,"t-empty",3,"icon"],[4,"tuiLet"],[1,"t-scrollbar"],["size","m",1,"t-tabs",3,"activeItemIndex"],[1,"t-sr-label"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["size","m",1,"t-tabs",3,"activeItemIndexChange","keydown.shift.tab.prevent","keydown.tab.prevent","activeItemIndex"],["tuiTab",""]],template:function(t,e){1&t&&(i.NAR(),i.DNE(0,Tt,1,0)(1,ee,2,1)),2&t&&i.vxM(e.textfield.value()?1:0)},dependencies:[_.lG,_.T3,_t.XU,_t.xC,Bt.L,Ot.q,Et.c,St.ap,Nt.N0,Ft.e2,Ft.tE],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border-radius:var(--tui-radius-l);background:var(--tui-background-base);box-shadow:inset 0 0 0 1px var(--tui-border-normal)}[_nghost-%COMP%]     [tuiCell]{inline-size:-webkit-fill-available;inline-size:-moz-available;inline-size:stretch;padding:.375rem;margin:.25rem .625rem;border-radius:var(--tui-radius-l)}[_nghost-%COMP%]     [tuiCell]>[tuiAvatar]{border-radius:var(--tui-radius-m)}[_nghost-%COMP%]     .t-sr-label{display:block;font:var(--tui-font-text-ui-s);color:var(--tui-text-secondary);margin:.75rem 1rem .5rem}.t-loader[_ngcontent-%COMP%]{margin:1rem 0}.t-status[_ngcontent-%COMP%]{margin-block-end:2rem}.t-empty[_ngcontent-%COMP%]{margin-block-start:1.5rem;font-size:6rem;color:var(--tui-text-primary)}.t-tabs[_ngcontent-%COMP%]{order:-1;margin:0 1rem;box-shadow:none;border-image:linear-gradient(0deg,var(--tui-border-normal) 1px,transparent 0) fill 0/0/0 1rem}.t-tabs[_ngcontent-%COMP%]:before{background:var(--tui-background-accent-opposite-pressed)}.t-scrollbar[_ngcontent-%COMP%]{max-block-size:30rem;padding:.375rem 0}"],changeDetection:0}),(0,Rt.Cg)([Y.PE],ne.prototype,"isEmpty",null)}}]);