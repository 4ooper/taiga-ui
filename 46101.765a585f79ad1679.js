(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[46101],{46101:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(37550),r=n(64870),o=n(11540);function l(e,t){if(1&e){const e=i.RV6();i.j41(0,"div",2)(1,"div",3),i.bIt("pointerup",(function(){i.eBV(e);const t=i.XpG().$implicit,n=i.XpG();return i.Njj(n.onDrop(t))})),i.k0s(),i.j41(2,"tui-tiles",4)(3,"tui-tile")(4,"div",5),i.bIt("pointerdown",(function(){i.eBV(e);const t=i.XpG().$implicit,n=i.XpG();return i.Njj(n.onDrag(t))})),i.EFF(5),i.k0s()()(),i.j41(6,"div",3),i.bIt("pointerup",(function(){i.eBV(e);const t=i.XpG().$implicit,n=i.XpG();return i.Njj(n.onDrop(t,1))})),i.k0s()()}if(2&e){const e=i.XpG().$implicit;i.R7$(5),i.SpI(" ",e.text," ")}}function c(e,t){if(1&e&&i.EFF(0),2&e){const e=i.XpG().$implicit;i.SpI(" ",e.text," ")}}function s(e,t){if(1&e&&i.DNE(0,l,7,1,"div",2)(1,c,1,1),2&e){const e=t.$implicit;i.vxM(e.children?1:0)}}let d=(()=>{var e;class t{constructor(){this.drag=(0,i.vPA)(null),this.cd=(0,i.WQX)(i.gRc),this.data={text:"Topmost",children:[{text:"Top level 1",children:[{text:"Another item",children:[{text:"Next level 1"},{text:"Next level 2"},{text:"Next level 3"}]}]},{text:"Top level 2"},{text:"Top level 3",children:[{text:"Test 1"},{text:"Test 2"}]}]},this.handler=e=>e.children||r.Mlv}onDrag(e){this.drag.set(e)}onDrop(e,t=0){const n=this.drag();if(!n)return;const i=p(n,this.data),r=p(e,this.data);i&&(i.children=i?.children?.filter((e=>e!==n)));const o=(r?.children?.indexOf(e)??0)+t;r?.children&&(r.children=[...r.children.slice(0,o),n,...r.children.slice(o)]),this.drag.set(null)}}return(e=t).ɵfac=function(t){return new(t||e)},e.ɵcmp=i.VBU({type:e,selectors:[["ng-component"]],decls:3,vars:6,consts:[["content",""],[1,"tree",3,"childrenHandler","content","tuiTreeController","value"],[1,"wrapper"],[1,"drop",3,"pointerup"],[1,"tiles"],["tuiTileHandle","",1,"content",3,"pointerdown"]],template:function(e,t){if(1&e&&(i.j41(0,"tui-tree",1),i.DNE(1,s,2,1,"ng-template",null,0,i.C5r),i.k0s()),2&e){const e=i.sdS(2);i.AVh("_dragged",t.drag()),i.Y8G("childrenHandler",t.handler)("content",e)("tuiTreeController",!0)("value",t.data)}},dependencies:[o.JK3,o.T$X,o.h$L,o.GQu,o.CHz,o.CtF],styles:[".tree._dragged[_ngcontent-%COMP%]   .drop[_ngcontent-%COMP%]{pointer-events:auto}.tree._dragged[_ngcontent-%COMP%]   .drop[_ngcontent-%COMP%]:hover{opacity:1}.wrapper[_ngcontent-%COMP%]{position:relative;inline-size:100%}.content[_ngcontent-%COMP%]{display:flex;inline-size:100%;align-items:center}.tiles[_ngcontent-%COMP%]{inline-size:100%;grid-template-rows:1.5rem}.drop[_ngcontent-%COMP%]{position:absolute;z-index:1;inline-size:100%;block-size:.5rem;margin-block-start:-.25rem;background:#87ceeb;border-radius:1rem;opacity:0;pointer-events:none}"],changeDetection:0}),t})();function p(e,t){if(!t.children)return null;if(t.children.includes(e))return t;for(const n of t.children){const t=p(e,n);if(t)return t}return null}}}]);