(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[90008],{90008:(t,e,n)=>{n.r(e),n.d(e,{default:()=>O});var a,i=n(97270),o=n(16727),r=n(75407),s=n(87742),l=n(62354),c=n(19908),g=n(56366),h=n(14027),d=n(55514),u=n(76145),f=n(57352),m=n(3934);function p(t,e){if(1&t&&(r.j41(0,"span",7)(1,"small",8),r.EFF(2),r.k0s()()),2&t){const t=e.index;r.R7$(2),r.SpI("Chart ",t+1,"")}}function C(t,e){if(1&t&&(r.nrm(0,"tui-line-days-chart",13),r.nI1(1,"tuiFilter")),2&t){const t=e.$implicit,n=r.XpG(3);r.Y8G("height",200)("value",r.brH(1,2,t,n.filter,n.range))}}function y(t,e){if(1&t&&(r.qex(0),r.DNE(1,C,2,6,"tui-line-days-chart",12),r.bVm()),2&t){const t=r.XpG(2);r.R7$(1),r.Y8G("ngForOf",t.days)}}function b(t,e){if(1&t&&(r.nrm(0,"tui-line-chart",15),r.nI1(1,"tuiMapper"),r.nI1(2,"tuiFilter")),2&t){const t=e.$implicit,n=r.XpG(3);r.Y8G("height",200)("value",r.brH(1,3,r.brH(2,7,t,n.filter,n.range),n.toNumbers,n.range))("width",n.getWidth(n.range))}}function F(t,e){if(1&t&&r.DNE(0,b,3,11,"tui-line-chart",14),2&t){const t=r.XpG(2);r.Y8G("ngForOf",t.days)}}function w(t,e){if(1&t&&(r.j41(0,"tui-axes",9),r.DNE(1,y,2,1,"ng-container",10),r.DNE(2,F,1,1,"ng-template",null,11,r.C5r),r.k0s()),2&t){const t=e.ngIf,n=r.sdS(3),a=r.XpG(),i=r.sdS(14);r.Y8G("axisXLabels",t)("horizontalLines",4)("tuiLineChartHint",i)("verticalLines",t.length-1),r.R7$(1),r.Y8G("ngIf",a.getWidth(a.show)>90)("ngIfElse",n)}}function x(t,e){if(1&t&&(r.j41(0,"div",7)(1,"span",17),r.EFF(2),r.k0s()()),2&t){const t=e.$implicit;r.R7$(2),r.SpI("$",t[1].toFixed(0),"")}}function E(t,e){if(1&t&&(r.j41(0,"div",16)(1,"strong"),r.EFF(2),r.k0s()(),r.j41(3,"div"),r.DNE(4,x,3,1,"div",4),r.k0s()),2&t){const t=e.$implicit,n=r.XpG();r.R7$(2),r.JRh(n.getDate(t[0][0],n.range.from)),r.R7$(2),r.Y8G("ngForOf",t)}}class M{constructor(){this.isE2E=(0,r.WQX)(c.Hs4),this.months$=(0,r.WQX)(g.FmP),this.data=new c.aBC(c.JKS.currentLocal(),c.JKS.currentLocal().append({month:5})),this.show=this.data,this.days=this.random(this.data),this.maxLength={month:6},this.filter=([t],{from:e,to:n})=>t.daySameOrAfter(e)&&t.daySameOrBefore(n),this.toNumbers=(t,{from:e})=>t.map((([t,n])=>[c.JKS.lengthBetween(e,t),n]))}get range(){return this.computeRange(this.show)}getWidth({from:t,to:e}){return c.JKS.lengthBetween(t,e)}getDate(t,e){return t instanceof c.JKS?t:e.append({day:t})}labels({from:t,to:e}){const n=c.JKS.lengthBetween(t,e);if(n>90)return this.months$.pipe((0,d.T)((n=>[...Array.from({length:c.x_Y.lengthBetween(t,e)+1},((e,a)=>n[t.append({month:a}).month]??"")),""])));const a=Array.from({length:n},((e,n)=>t.append({day:n}))),i=function(t){return t.filter((t=>!t.dayOfWeek())).map(String)}(a),o=a.map(String);return n>60?(0,u.of)([...v(i),""]):n>14?(0,u.of)([...i,""]):n>7?(0,u.of)([...v(o),""]):(0,u.of)([...o,""])}onDataChange(t){this.days=this.random(t)}computeRange(t){const{from:e,to:n}=t,a=c.JKS.lengthBetween(e,n),i=e.dayOfWeek(),o=n.dayOfWeek(),r=i?e.append({day:7-i}):e,s=o?n.append({day:7-o}):n,l=c.JKS.lengthBetween(r,s);return a>90?t:a>60?new c.aBC(r,s.append({day:l%14})):a>14?new c.aBC(r,s):new c.aBC(e,n.append({day:a%2}))}generateRandomData({from:t,to:e},n){return new Array(c.JKS.lengthBetween(t,e)+1).fill(0).reduce(((e,a,i)=>[...e,[t.append({day:i}),this.isE2E?n:Math.max((i?e[i-1]?.[1]??0:n)+10*Math.random()-5,0)]]),[]).filter((([t])=>t.dayOfWeek()<5))}random(t){return[this.generateRandomData(t,100),this.generateRandomData(t,75),this.generateRandomData(t,50)]}}(a=M).ɵfac=function(t){return new(t||a)},a.ɵcmp=r.VBU({type:a,selectors:[["ng-component"]],standalone:!0,exportAs:"Example2",features:[r.aNF],decls:15,vars:8,consts:[[1,"controls"],[3,"maxLength","ngModel","ngModelChange"],[1,"tui-space_left-4",3,"maxLength","ngModel","ngModelChange"],[1,"legend"],["class","item",4,"ngFor","ngForOf"],["class","axes",3,"axisXLabels","horizontalLines","tuiLineChartHint","verticalLines",4,"ngIf"],["hint",""],[1,"item"],[1,"name"],[1,"axes",3,"axisXLabels","horizontalLines","tuiLineChartHint","verticalLines"],[4,"ngIf","ngIfElse"],["line",""],["class","chart",3,"height","value",4,"ngFor","ngForOf"],[1,"chart",3,"height","value"],["class","chart",3,"height","value","width",4,"ngFor","ngForOf"],[1,"chart",3,"height","value","width"],[1,"tui-space_bottom-2"],[1,"value"]],template:function(t,e){1&t&&(r.j41(0,"tui-notification")(1,"code"),r.EFF(2,"TuiLineDaysChart"),r.k0s(),r.EFF(3," is used to show data of several months to simplify working with different number of days in months\n"),r.k0s(),r.j41(4,"p",0)(5,"tui-input-date-range",1),r.bIt("ngModelChange",(function(t){return e.data=t}))("ngModelChange",(function(t){return e.onDataChange(t)})),r.EFF(6," Data "),r.k0s(),r.j41(7,"tui-input-date-range",2),r.bIt("ngModelChange",(function(t){return e.show=t})),r.EFF(8," Visible range "),r.k0s()(),r.j41(9,"p",3),r.DNE(10,p,3,1,"span",4),r.k0s(),r.DNE(11,w,4,6,"tui-axes",5),r.nI1(12,"async"),r.DNE(13,E,5,2,"ng-template",null,6,r.C5r)),2&t&&(r.R7$(5),r.Y8G("maxLength",e.maxLength)("ngModel",e.data),r.R7$(2),r.Y8G("maxLength",e.maxLength)("ngModel",e.show),r.R7$(3),r.Y8G("ngForOf",e.days),r.R7$(1),r.Y8G("ngIf",r.bMT(12,6,e.labels(e.show))))},dependencies:[o.Jj,s.YN,s.BC,s.vS,o.Sq,o.bT,l.uy,c.LSY,h.CwF,f.D,m.N,l.Lx,l.S,l.fd,c.uAY,g.wSS],styles:['.axes[_ngcontent-%COMP%]{block-size:12.5rem}.controls[_ngcontent-%COMP%]{display:flex}.controls[_ngcontent-%COMP%]   tui-input-date-range[_ngcontent-%COMP%]{flex:1}.legend[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.item[_ngcontent-%COMP%]{color:var(--tui-chart-categorical-01);display:flex;align-items:center;margin:0 .75rem}.item[_ngcontent-%COMP%]:first-child{color:var(--tui-chart-categorical-08)}.item[_ngcontent-%COMP%]:last-child{color:var(--tui-chart-categorical-12)}.item[_ngcontent-%COMP%]:before{content:"";border-bottom:.125rem solid;inline-size:1rem;margin-right:.5rem}.name[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.value[_ngcontent-%COMP%]{color:#fff}.chart[_ngcontent-%COMP%]{color:var(--tui-chart-categorical-01);position:absolute;top:0;left:0;inline-size:100%;block-size:100%}.chart[_ngcontent-%COMP%]:first-child{color:var(--tui-chart-categorical-08)}.chart[_ngcontent-%COMP%]:last-child{color:var(--tui-chart-categorical-12)}'],changeDetection:0}),(0,i.Cg)([c.PEb],M.prototype,"getWidth",null),(0,i.Cg)([c.PEb],M.prototype,"getDate",null),(0,i.Cg)([c.PEb],M.prototype,"labels",null),(0,i.Cg)([c.PEb],M.prototype,"computeRange",null),(0,i.Cg)([c.PEb],M.prototype,"generateRandomData",null);const O=M;function v(t){return t.filter(((t,e)=>!(e%2)))}}}]);