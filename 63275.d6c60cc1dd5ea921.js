(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[63275],{63275:(t,n,e)=>{e.r(n),e.d(n,{default:()=>_});var i=e(16727),o=e(87742),a=e(46654),s=e(49493),r=e(7287),u=e(89684),c=e(26197),l=e(61204),h=e(54148),d=e(80736),p=e(25358),g=e(64204),m=e(14759),f=e(55514),b=e(70948),$=e(44046),G=e(75407),C=e(96692),j=e(25751),M=e(7740),k=e(21154),y=e(48584),T=e(3819),F=e(3358),J=e(69468);function D(t,n){if(1&t){const t=G.RV6();G.j41(0,"tui-reorder",7),G.bIt("itemsChange",(function(n){G.eBV(t);const e=G.XpG();return G.Njj(e.initial=n)}))("enabledChange",(function(n){G.eBV(t);const e=G.XpG();return G.Njj(e.onEnabled(n))})),G.k0s()}if(2&t){const t=G.XpG();G.Y8G("enabled",t.enabled)("items",t.initial)}}function E(t,n){1&t&&(G.j41(0,"th",14),G.EFF(1," Name "),G.k0s())}function N(t,n){1&t&&(G.j41(0,"th",14),G.EFF(1," Date of Birth "),G.k0s())}function S(t,n){1&t&&(G.j41(0,"th",14),G.EFF(1," Age "),G.k0s())}function R(t,n){if(1&t&&(G.j41(0,"td",19),G.EFF(1),G.k0s()),2&t){const t=G.XpG().$implicit,n=G.XpG(3);G.AVh("match",n.isMatch(t.name)),G.R7$(1),G.SpI(" ",t.name," ")}}function B(t,n){if(1&t&&(G.j41(0,"td",19),G.EFF(1),G.k0s()),2&t){const t=G.XpG().$implicit,n=G.XpG(3);G.AVh("match",n.isMatch(t.dob)),G.R7$(1),G.SpI(" ",t.dob," ")}}function Y(t,n){if(1&t&&(G.j41(0,"td",19),G.EFF(1),G.k0s()),2&t){const t=G.XpG().$implicit,n=G.XpG(3);G.AVh("match",n.isMatch(n.getAge(t))),G.R7$(1),G.SpI(" ",n.getAge(t)," ")}}function I(t,n){1&t&&(G.j41(0,"tr",17),G.DNE(1,R,2,3,"td",18),G.DNE(2,B,2,3,"td",18),G.DNE(3,Y,2,3,"td",18),G.k0s()),2&t&&(G.R7$(1),G.Y8G("tuiCell","name"),G.R7$(1),G.Y8G("tuiCell","dob"),G.R7$(1),G.Y8G("tuiCell","age"))}function w(t,n){if(1&t&&(G.j41(0,"tbody",15),G.DNE(1,I,4,3,"tr",16),G.k0s()),2&t){const t=n.tuiLet;G.Y8G("data",t),G.R7$(1),G.Y8G("ngForOf",t)}}function A(t,n){if(1&t){const t=G.RV6();G.j41(0,"table",8),G.bIt("directionChange",(function(n){G.eBV(t);const e=G.XpG();return G.Njj(e.direction$.next(n))}))("tuiSortByChange",(function(n){G.eBV(t);const e=G.XpG();return G.Njj(e.sorter$.next(n))})),G.nI1(1,"async"),G.nI1(2,"async"),G.j41(3,"thead")(4,"tr",9),G.DNE(5,E,2,0,"th",10),G.DNE(6,N,2,0,"th",10),G.DNE(7,S,2,0,"th",10),G.k0s()(),G.DNE(8,w,2,2,"tbody",11),G.nI1(9,"tuiTableSort"),G.j41(10,"tfoot")(11,"tr")(12,"td",12)(13,"tui-table-pagination",13),G.bIt("paginationChange",(function(n){G.eBV(t);const e=G.XpG();return G.Njj(e.onPagination(n))})),G.nI1(14,"async"),G.k0s()()()()()}if(2&t){const t=n.ngIf,e=G.XpG();G.Y8G("columns",e.columns)("direction",G.bMT(1,9,e.direction$)||1)("tuiSortBy",G.bMT(2,11,e.sorter$)),G.R7$(5),G.Y8G("tuiHead","name"),G.R7$(1),G.Y8G("tuiHead","dob"),G.R7$(1),G.Y8G("tuiHead","age"),G.R7$(1),G.Y8G("tuiLet",G.bMT(9,13,t)),G.R7$(4),G.Y8G("colSpan",e.columns.length),G.R7$(1),G.Y8G("total",G.bMT(14,15,e.total$)||0)}}const x=s.JKS.currentLocal(),z=["John","Jane","Jack","Jill","James","Joan","Jim","Julia","Joe","Julia"],X=["Smith","West","Brown","Jones","Davis","Miller","Johnson","Jackson","Williams","Wilson"],v=Array.from({length:300},(()=>({name:`${X[Math.floor(10*Math.random())]}, ${z[Math.floor(10*Math.random())]}`,dob:x.append({day:-Math.floor(4e3*Math.random())-7500})}))),O={Name:"name",Age:"age","Date of Birth":"dob"};function V({dob:t}){const n=x.year-t.year,e=x.month-t.month,i=x.day-t.day;return n+(0,s.Zix)(e>0||!e&&i>9)}const _=(()=>{var t;class n{constructor(){this.size$=new l.t(10),this.page$=new l.t(0),this.direction$=new l.t(-1),this.sorter$=new l.t("name"),this.minAge=new o.MJ(21),this.request$=(0,h.z)([this.sorter$,this.direction$,this.page$,this.size$,(0,s.lD9)(this.minAge)]).pipe((0,d.B)(0),(0,p.n)((t=>this.getData(...t).pipe((0,g.Z)(null)))),(0,m.u)()),this.initial=["Name","Date of Birth","Age"],this.enabled=this.initial,this.columns=["name","dob","age"],this.search="",this.loading$=this.request$.pipe((0,f.T)(s._sG)),this.total$=this.request$.pipe((0,b.p)(s.Ajz),(0,f.T)((({length:t})=>t)),(0,g.Z)(1)),this.data$=this.request$.pipe((0,b.p)(s.Ajz),(0,f.T)((t=>t.filter(s.Ajz))),(0,g.Z)([])),this.getAge=V}onEnabled(t){this.enabled=t,this.columns=this.initial.filter((n=>t.includes(n))).map((t=>O[t]??""))}onDirection(t){this.direction$.next(t)}onPagination({page:t,size:n}){this.page$.next(t),this.size$.next(n)}isMatch(t){return!!this.search&&(0,s.Gb0)(t,this.search)}getData(t,n,e,i,o){console.info("Making a request");const a=e*i,r=a+i,u=[...v].sort(function(t,n){return(e,i)=>"age"===t?n*(0,s._JU)(V(e),V(i)):n*(0,s._JU)(e[t],i[t])}(t,n)).filter((t=>V(t)>=o)).map(((t,n)=>n>=a&&n<r?t:null));return(0,$.O)(3e3).pipe((0,f.T)((()=>u)))}}return(t=n).ɵfac=function(n){return new(n||t)},t.ɵcmp=G.VBU({type:t,selectors:[["ng-component"]],standalone:!0,exportAs:"Example4",features:[G.aNF],decls:13,vars:11,consts:[["tuiTextfieldSize","m",1,"filters"],[1,"input",3,"tuiTextfieldCleaner","ngModel","ngModelChange"],["decimal","never",1,"tui-space_horizontal-3",3,"formControl"],["size","m","tuiButton","","tuiChevron","","tuiDropdownOpen","","type","button",3,"tuiDropdown"],["dropdown",""],[3,"overlay","showLoader"],["tuiTable","","class","table",3,"columns","direction","tuiSortBy","directionChange","tuiSortByChange",4,"ngIf"],[1,"columns",3,"enabled","items","itemsChange","enabledChange"],["tuiTable","",1,"table",3,"columns","direction","tuiSortBy","directionChange","tuiSortByChange"],["tuiThGroup",""],["tuiSortable","","tuiTh","",4,"tuiHead"],["tuiTbody","",3,"data",4,"tuiLet"],[3,"colSpan"],[1,"tui-space_top-2",3,"total","paginationChange"],["tuiSortable","","tuiTh",""],["tuiTbody","",3,"data"],["tuiTr","",4,"ngFor","ngForOf"],["tuiTr",""],["tuiTd","",3,"match",4,"tuiCell"],["tuiTd",""]],template:function(t,n){if(1&t&&(G.j41(0,"p",0)(1,"tui-input",1),G.bIt("ngModelChange",(function(t){return n.search=t})),G.EFF(2," Find on page "),G.k0s(),G.j41(3,"tui-input-number",2),G.EFF(4," Minimum age "),G.k0s(),G.j41(5,"button",3),G.EFF(6," Columns "),G.k0s(),G.DNE(7,D,1,2,"ng-template",null,4,G.C5r),G.k0s(),G.j41(9,"tui-loader",5),G.nI1(10,"async"),G.DNE(11,A,15,17,"table",6),G.nI1(12,"async"),G.k0s()),2&t){const t=G.sdS(8);G.R7$(1),G.Y8G("tuiTextfieldCleaner",!0)("ngModel",n.search),G.R7$(2),G.Y8G("formControl",n.minAge),G.R7$(2),G.Y8G("tuiDropdown",t),G.R7$(4),G.Y8G("overlay",!0)("showLoader",!!G.bMT(10,7,n.loading$)),G.R7$(2),G.Y8G("ngIf",G.bMT(12,9,n.data$))}},dependencies:[a.gJ,a.hO,a.ke,a.z2,a.z8,a.zv,a.nS,a.JO,a.i7,a.Zx,a.Jx,c.CNI,C.n,j.G,c.ziW,M.m,k.W,y.p,T.i,c.O9v,F.Z,J.x,a.sJ,r.apU,i.Jj,i.bT,a.bI,o.X1,o.BC,o.l_,r.paf,u.kdZ,o.YN,o.vS,i.Sq,s.cOJ],styles:[".table[_ngcontent-%COMP%]{width:100%}.filters[_ngcontent-%COMP%]{display:flex}.input[_ngcontent-%COMP%]{flex:1}.columns[_ngcontent-%COMP%]{width:10.625rem}.match[_ngcontent-%COMP%]{background:var(--tui-service-selection-background)}"],changeDetection:0}),n})()}}]);